<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Email_for_No_Activities</name>
        <label>Email for No Activities</label>
        <locationX>3922</locationX>
        <locationY>924</locationY>
        <actionName>emailSimple</actionName>
        <actionType>emailSimple</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>emailAddressesArray</name>
            <value>
                <elementReference>cRecipientEmail</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailSubject</name>
            <value>
                <elementReference>NoActivitiesEmailSubject</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailBody</name>
            <value>
                <elementReference>NoActivitiesEmailBody</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>relatedRecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>emailSimple</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Lead_New_Owner_Email_Alert</name>
        <label>Lead - New Owner Email Alert</label>
        <locationX>1458</locationX>
        <locationY>2064</locationY>
        <actionName>Lead.Lead_New_Owner_Notification</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>Change_Owner_Date</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Lead.Lead_New_Owner_Notification</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Send_Retain_Grow_Gain_Notification</name>
        <label>Send Retain Grow Gain Notification</label>
        <locationX>380</locationX>
        <locationY>2760</locationY>
        <actionName>Lead.Retain_Grow_Gain_Referral_Received_Notification</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>Auto_Convert_Lead_to_Contact</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Lead.Retain_Grow_Gain_Referral_Received_Notification</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <apiVersion>62.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Assign_Recipients</name>
        <label>Assign Recipients</label>
        <locationX>3922</locationX>
        <locationY>816</locationY>
        <assignmentItems>
            <assignToReference>cRecipientEmail</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>$Record.Owner:User.Email</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Email_for_No_Activities</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Contact_Vars</name>
        <label>Set Contact Vars</label>
        <locationX>1557</locationX>
        <locationY>6540</locationY>
        <assignmentItems>
            <assignToReference>v_New_Contact.AccountId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Originating_Account.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_New_Contact.OwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Originating_Account.OwnerId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_New_Contact.Primary_Source__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Primary_Source__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_New_Contact.Secondary_Source__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Secondary_Source__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_New_Contact.FirstName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FirstName</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_New_Contact.LastName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.LastName</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_New_Contact.Email</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Email</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_New_Contact.Phone</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Phone</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_New_Contact.Title</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Title</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_New_Contact.CurrencyIsoCode</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Originating_Account.CurrencyIsoCode</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Contact</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Is_New_Variable</name>
        <label>Set Is New Variable</label>
        <locationX>1810</locationX>
        <locationY>384</locationY>
        <assignmentItems>
            <assignToReference>v_isNew</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>f_isNew</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_or_Update</targetReference>
        </connector>
    </assignments>
    <decisions>
        <description>Account Match</description>
        <name>accountMatch</name>
        <label>accountMatch</label>
        <locationX>666</locationX>
        <locationY>1896</locationY>
        <defaultConnector>
            <targetReference>Is_Retain_Grow_Gain_Referral</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Account_Match</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>getAccountRecords.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Existing_Account_To_Lead</targetReference>
            </connector>
            <label>Account Match</label>
        </rules>
    </decisions>
    <decisions>
        <description>Used by Pardot?
If the checkbox field on Lead &apos;System: Auto-Convert Lead to Contact&apos; was ticked then check if Contact Exists. If so, delete Lead. If not and the Lead links to Existing Account then Convert. If none of the above then  skip.</description>
        <name>Auto_Convert_Lead_to_Contact</name>
        <label>Auto-Convert Lead to Contact?</label>
        <locationX>1810</locationX>
        <locationY>6000</locationY>
        <defaultConnector>
            <targetReference>Create_new_Enquiry</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Check_Existing_Contact_Outcome</name>
            <conditionLogic>1 AND (2 OR 3)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.System_Auto_Convert_to_Contact__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.System_Auto_Convert_to_Contact__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Originating_Account</targetReference>
            </connector>
            <label>Yes - Check Existing Contact</label>
        </rules>
    </decisions>
    <decisions>
        <description>Validate whether or not Flows/Emails have been disabled before we continue</description>
        <name>Automation_and_Emails_Enabled_Scheduled</name>
        <label>Automation and Emails Enabled? (Scheduled)</label>
        <locationX>4986</locationX>
        <locationY>276</locationY>
        <defaultConnectorLabel>No - Stop</defaultConnectorLabel>
        <rules>
            <name>Enabled_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Setup.OCS_Config_Settings_CSH__c.Flows_Disabled__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Setup.OCS_Config_Settings_CSH__c.Emails_Disabled__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Record_Owner_Active_2</targetReference>
            </connector>
            <label>Enabled</label>
        </rules>
    </decisions>
    <decisions>
        <description>Validate whether or not automation has been disabled before we continue</description>
        <name>Automation_Enabled_Decision</name>
        <label>Automation Enabled?</label>
        <locationX>2734</locationX>
        <locationY>276</locationY>
        <defaultConnectorLabel>No - Stop</defaultConnectorLabel>
        <rules>
            <name>Automation_Enabled_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Setup.OCS_Config_Settings_CSH__c.Flows_Disabled__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Is_New_Variable</targetReference>
            </connector>
            <label>Automation Enabled</label>
        </rules>
    </decisions>
    <decisions>
        <name>Country_Decision_External_Telemarketing</name>
        <label>Country Decision</label>
        <locationX>2492</locationX>
        <locationY>708</locationY>
        <defaultConnector>
            <targetReference>Lead_Owned_by_a_User</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other - Skip</defaultConnectorLabel>
        <rules>
            <name>UK_IRE_Country_Outcome</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Country</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>United Kingdom</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Country</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Ireland</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>External_Telemarketing_Decision</targetReference>
            </connector>
            <label>UK&amp;IRE</label>
        </rules>
    </decisions>
    <decisions>
        <description>Creates Initial Contact Task where Marketing &amp; Website</description>
        <name>Create_Initial_Contact_Task</name>
        <label>Create Initial Contact Task</label>
        <locationX>666</locationX>
        <locationY>1548</locationY>
        <defaultConnector>
            <targetReference>accountMatch</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other</defaultConnectorLabel>
        <rules>
            <name>Source_is_Marketing_Website</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Primary_Source__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Marketing</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Secondary_Source__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Website</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Initial_Contact_Task_Marketing</targetReference>
            </connector>
            <label>Source is Marketing &amp; Website</label>
        </rules>
    </decisions>
    <decisions>
        <name>Create_new_Enquiry</name>
        <label>Create new Enquiry?</label>
        <locationX>1810</locationX>
        <locationY>7074</locationY>
        <defaultConnectorLabel>Do Not Create New Enquiry</defaultConnectorLabel>
        <rules>
            <name>Create_Enquiry</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Create_New_Enquiry__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Enquiry_Record</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>Create Enquiry</label>
        </rules>
    </decisions>
    <decisions>
        <name>Create_or_Update</name>
        <label>Create or Update</label>
        <locationX>1810</locationX>
        <locationY>492</locationY>
        <defaultConnector>
            <targetReference>Has_Lead_Owner_Changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Update</defaultConnectorLabel>
        <rules>
            <name>Create</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_isNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>External_Telemarketing_Create_Decision</targetReference>
            </connector>
            <label>Create</label>
        </rules>
    </decisions>
    <decisions>
        <name>Does_Related_Enquiry_Exist</name>
        <label>Does Related Enquiry Exist?</label>
        <locationX>2734</locationX>
        <locationY>4428</locationY>
        <defaultConnector>
            <targetReference>Email_Opt_Out_Changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Related Enquiry</defaultConnectorLabel>
        <rules>
            <name>Related_Enquiry_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Primary_Enquiry__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Enquiry_Status</targetReference>
            </connector>
            <label>Related Enquiry Found</label>
        </rules>
    </decisions>
    <decisions>
        <description>Is this lead related to at least one website visit? And has the DUNS number changed?</description>
        <name>DUNS_No_Changed</name>
        <label>DUNS No Changed?</label>
        <locationX>2954</locationX>
        <locationY>5208</locationY>
        <defaultConnector>
            <targetReference>MCAE_TH_Process_Delete_Lead</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>DUNS No Not Changed</defaultConnectorLabel>
        <rules>
            <name>DUNS_has_changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.DUNS_No__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.No_of_Website_Visits__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Enrich_Related_Leads</targetReference>
            </connector>
            <label>DUNS has changed</label>
        </rules>
    </decisions>
    <decisions>
        <description>Does the Lead link to an Originating Contact that we can take the Account from. If so, then Convert Lead to the Account of the Originating Contact and create a new Contact. Do NOT create an Opportunity.</description>
        <name>Eligible_to_Convert</name>
        <label>Eligible to Convert?</label>
        <locationX>1689</locationX>
        <locationY>6432</locationY>
        <defaultConnector>
            <targetReference>Create_new_Enquiry</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Convert_Lead_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Originating_Account.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Contact_Vars</targetReference>
            </connector>
            <label>Yes - Convert</label>
        </rules>
    </decisions>
    <decisions>
        <name>Email_Opt_Out_Changed</name>
        <label>Email Opt Out Changed</label>
        <locationX>2954</locationX>
        <locationY>4860</locationY>
        <defaultConnector>
            <targetReference>DUNS_No_Changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Email Opt Out Not Changed</defaultConnectorLabel>
        <rules>
            <name>Email_Opt_Out_Is_Changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.HasOptedOutOfEmail</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_Opt_Out_Date</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>Email Opt Out Is Changed</label>
        </rules>
        <rules>
            <name>Email_Opt_In_Is_Changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.HasOptedOutOfEmail</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Remove_Opt_Out_Date</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>Email Opt In Is Changed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Emails_Enabled_New_Owner_Notification_Decision</name>
        <label>Emails Enabled? (New Owner Notification)</label>
        <locationX>1590</locationX>
        <locationY>1956</locationY>
        <defaultConnector>
            <targetReference>Change_Owner_Date</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Emails_Enabled_New_Owner_Notification_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Setup.OCS_Config_Settings_CSH__c.Emails_Disabled__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lead_New_Owner_Email_Alert</targetReference>
            </connector>
            <label>Yes - Send</label>
        </rules>
    </decisions>
    <decisions>
        <name>Emails_Enabled_RGG_Referral_Decision</name>
        <label>Emails Enabled? (RGG Referral)</label>
        <locationX>512</locationX>
        <locationY>2652</locationY>
        <defaultConnector>
            <targetReference>Auto_Convert_Lead_to_Contact</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Emails_Enabled_Retain_Grow_Gain_Referral_Notification_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Setup.OCS_Config_Settings_CSH__c.Emails_Disabled__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Retain_Grow_Gain_Notification</targetReference>
            </connector>
            <label>Yes - Send</label>
        </rules>
    </decisions>
    <decisions>
        <name>Existing_Account_Has_SIC_Code</name>
        <label>Existing Account Has SIC Code?</label>
        <locationX>314</locationX>
        <locationY>2112</locationY>
        <defaultConnector>
            <targetReference>Is_Retain_Grow_Gain_Referral</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Mapped</defaultConnectorLabel>
        <rules>
            <name>Account_Mapped_With_SIC</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Existing_Account__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Existing_Account__r.SIC_Code__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SIC_Code__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_SIC_from_Account</targetReference>
            </connector>
            <label>Account Mapped - With SIC</label>
        </rules>
    </decisions>
    <decisions>
        <name>Existing_Contact_Found_Decision</name>
        <label>Existing Contact Found?</label>
        <locationX>1359</locationX>
        <locationY>6324</locationY>
        <defaultConnector>
            <targetReference>Eligible_to_Convert</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Convert Lead</defaultConnectorLabel>
        <rules>
            <name>Yes_Contact_Foud</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Check_Existing_Contact_Email.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Originating_Account.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_Lead</targetReference>
            </connector>
            <label>Yes - Contact Foud</label>
        </rules>
    </decisions>
    <decisions>
        <description>Which External Telemarketing Campaign should this Lead be a member of?</description>
        <name>External_Telemarketing_Campaign_Decision</name>
        <label>External Telemarketing Campaign Decision</label>
        <locationX>2074</locationX>
        <locationY>924</locationY>
        <defaultConnector>
            <targetReference>Lead_Owned_by_a_User</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other - Skip</defaultConnectorLabel>
        <rules>
            <name>Open_Doors_Lead_Forensics_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Secondary_Source__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Lead Forensics</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_to_Ext_Telemarketing_Open_Doors_Lead_Forensics_Campaign_Update</targetReference>
            </connector>
            <label>Open Doors - Lead Forensics</label>
        </rules>
        <rules>
            <name>Open_Doors_New_Leads_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Secondary_Source__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Telemarketing External</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_to_Ext_Telemarketing_Open_Doors_New_Leads_Campaign_Update</targetReference>
            </connector>
            <label>Open Doors - New Leads</label>
        </rules>
    </decisions>
    <decisions>
        <description>Which External Telemarketing Campaign should this Lead be a member of?</description>
        <name>External_Telemarketing_Campaign_Decision_Create</name>
        <label>External Telemarketing Campaign Decision</label>
        <locationX>446</locationX>
        <locationY>708</locationY>
        <defaultConnector>
            <targetReference>LinkedIn_Lead</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other - Skip</defaultConnectorLabel>
        <rules>
            <name>Open_Doors_Lead_Forensics_Create_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Secondary_Source__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Lead Forensics</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_to_Ext_Telemarketing_Open_Doors_Lead_Forensics_Campaign_Create</targetReference>
            </connector>
            <label>Open Doors - Lead Forensics</label>
        </rules>
        <rules>
            <name>Open_Doors_New_Leads_Create_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Secondary_Source__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Telemarketing External</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_to_Ext_Telemarketing_Open_Doors_New_Leads_Campaign_Create</targetReference>
            </connector>
            <label>Open Doors - New Leads</label>
        </rules>
    </decisions>
    <decisions>
        <description>Does the Lead relate to External Telemarketing function? This could be created by External Telemarketing or assigned to Telemarketing UK&amp;I Queue or relate to Website Visits.</description>
        <name>External_Telemarketing_Create_Decision</name>
        <label>External Telemarketing?</label>
        <locationX>666</locationX>
        <locationY>600</locationY>
        <defaultConnector>
            <targetReference>LinkedIn_Lead</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Evaluate_Campaign_Membership</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Permission.External_Telemarketing_User</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Owner:Group.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Telemarketing_UK_I</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>External_Telemarketing_Campaign_Decision_Create</targetReference>
            </connector>
            <label>Yes - Evaluate Campaign Membership</label>
        </rules>
    </decisions>
    <decisions>
        <description>Was the Lead Transferred from a Queue to an External Telemarketing User. If so then automatically add the Lead to one of the UK&amp;I - Open Doors - External Telemarketing&apos; Campaigns based on Secondary Source.</description>
        <name>External_Telemarketing_Decision</name>
        <label>External Telemarketing?</label>
        <locationX>2294</locationX>
        <locationY>816</locationY>
        <defaultConnector>
            <targetReference>Lead_Owned_by_a_User</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Evaluate_Campaign_Membership_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record__Prior.Owned_by_Queue__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Owned_by_Queue__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Permission.External_Telemarketing_User</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>External_Telemarketing_Campaign_Decision</targetReference>
            </connector>
            <label>Yes - Evaluate Campaign Membership</label>
        </rules>
    </decisions>
    <decisions>
        <description>Are there any FOIs on this lead?</description>
        <name>FOIs_on_Lead</name>
        <label>FOIs on Lead?</label>
        <locationX>1843</locationX>
        <locationY>3852</locationY>
        <defaultConnector>
            <targetReference>Lead_Status_Changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No FOIs</defaultConnectorLabel>
        <rules>
            <name>FOIs_found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.No_of_FOIs__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_FOI_Account</targetReference>
            </connector>
            <label>FOIs found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_Lead_Owner_Changed</name>
        <label>Has Lead Owner Changed?</label>
        <locationX>2954</locationX>
        <locationY>600</locationY>
        <defaultConnector>
            <targetReference>Revisit_Date_Added</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Lead Owner Not Changed</defaultConnectorLabel>
        <rules>
            <name>Lead_Owner_Has_Changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Country_Decision_External_Telemarketing</targetReference>
            </connector>
            <label>Lead Owner Has Changed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Lead_Closed</name>
        <label>Is Lead Closed?</label>
        <locationX>1282</locationX>
        <locationY>7290</locationY>
        <defaultConnector>
            <targetReference>Update_Lead</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Closed</defaultConnectorLabel>
        <rules>
            <name>Closed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reopen_Lead</targetReference>
            </connector>
            <label>Closed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Lead_Open</name>
        <label>Is Lead Open</label>
        <locationX>2954</locationX>
        <locationY>3528</locationY>
        <defaultConnector>
            <targetReference>Lead_Status_Changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Open</defaultConnectorLabel>
        <rules>
            <name>Closed_or_Qualified</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Qualified</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lead_Converted</targetReference>
            </connector>
            <label>Closed or Qualified</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Retain_Grow_Gain_Referral</name>
        <label>Is Retain Grow Gain Referral</label>
        <locationX>666</locationX>
        <locationY>2544</locationY>
        <defaultConnector>
            <targetReference>Auto_Convert_Lead_to_Contact</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Referrer_Business_Unit__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Referrer_Name__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Colleague_Referral_Email__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Primary_Source__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Operations</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Secondary_Source__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Referral</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Emails_Enabled_RGG_Referral_Decision</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Last_Initial_Contact_Attempt_7_Days_Ago</name>
        <label>Last Initial Contact Attempt 7 Days Ago?</label>
        <locationX>4054</locationX>
        <locationY>708</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_7_Days_Past</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Initial_Contact_Attempt__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>TodayMinus7</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Recipients</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Lead_Converted</name>
        <label>Lead Qualified?</label>
        <locationX>2525</locationX>
        <locationY>3636</locationY>
        <defaultConnector>
            <targetReference>Lead_Status_Changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Changed To Closed or Qualified</defaultConnectorLabel>
        <rules>
            <name>Updated_to_Qualified</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Qualified</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Qualified_Date</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>Updated to Qualified</label>
        </rules>
        <rules>
            <name>Updated_to_Closed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Closed_Date</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>Updated to Closed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Lead_Open_and_Website</name>
        <label>Lead Open and Website?</label>
        <locationX>4483</locationX>
        <locationY>492</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Open_Website</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Open</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Secondary_Source__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Website</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Next_Contact_Date_Null</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Lead_Owned_by_a_User</name>
        <label>Lead Owned by a User?</label>
        <locationX>2492</locationX>
        <locationY>1392</locationY>
        <defaultConnector>
            <targetReference>Revisit_Date_Added</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Owned By User</defaultConnectorLabel>
        <rules>
            <name>Owned_By_User</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Owner:User.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Owner_Manager_Matched</targetReference>
            </connector>
            <label>Owned By User</label>
        </rules>
    </decisions>
    <decisions>
        <name>Lead_Status_Changed</name>
        <label>Lead Status Changed?</label>
        <locationX>2954</locationX>
        <locationY>4320</locationY>
        <defaultConnector>
            <targetReference>Email_Opt_Out_Changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Status Not Changed</defaultConnectorLabel>
        <rules>
            <name>Status_Updated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Does_Related_Enquiry_Exist</targetReference>
            </connector>
            <label>Status Updated</label>
        </rules>
    </decisions>
    <decisions>
        <description>If Lead is from Linkedin then override Owner with the Current User. Otherwise the Owner gets set to the Default Lead Owner user in the system (Shaun).</description>
        <name>LinkedIn_Lead</name>
        <label>LinkedIn Lead?</label>
        <locationX>666</locationX>
        <locationY>1092</locationY>
        <defaultConnector>
            <targetReference>getAccountRecords</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Linkedin_Set_Owner</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Secondary_Source__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>LinkedIn</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Linkedin_Set_Owner_Current_User</targetReference>
            </connector>
            <label>Yes - Set Owner</label>
        </rules>
    </decisions>
    <decisions>
        <name>MCAE_TH_Process_Delete_Lead</name>
        <label>MCAE TH Process - Delete Lead?</label>
        <locationX>2954</locationX>
        <locationY>5508</locationY>
        <defaultConnector>
            <targetReference>Auto_Convert_Lead_to_Contact</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>MCAE TH Process - No Change</defaultConnectorLabel>
        <rules>
            <name>Delete_TH_Lead_Record</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.TH_Consent_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Delete</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_Lead_Record</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>Delete TH Lead Record</label>
        </rules>
    </decisions>
    <decisions>
        <name>Next_Contact_Date_Null</name>
        <label>Next Contact Date Null?</label>
        <locationX>4252</locationX>
        <locationY>600</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Next_Contact_Date__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Last_Initial_Contact_Attempt_7_Days_Ago</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Owner_Manager_Matched</name>
        <label>Owner Manager Matched?</label>
        <locationX>1744</locationX>
        <locationY>1500</locationY>
        <defaultConnector>
            <targetReference>Send_New_Owner_Notification</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Lead Owner Manager Matched</defaultConnectorLabel>
        <rules>
            <name>Lead_Owner_Manager_Mis_Match</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.System_Lead_Owner_Managers_Email__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record.Owner:User.Manager_Email__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Lead_Owner_Manager_Email</targetReference>
            </connector>
            <label>Lead Owner Manager Mis-Match</label>
        </rules>
    </decisions>
    <decisions>
        <name>Record_Owner_Active_2</name>
        <label>Record Owner Active?</label>
        <locationX>4730</locationX>
        <locationY>384</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Owner:User.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lead_Open_and_Website</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Revisit_Date_Added</name>
        <label>Revisit Date Added</label>
        <locationX>2954</locationX>
        <locationY>2988</locationY>
        <defaultConnector>
            <targetReference>Is_Lead_Open</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Revisit</name>
            <conditionLogic>(1 AND 2)</conditionLogic>
            <conditions>
                <leftValueReference>$Record__Prior.Revisit_Date__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Revisit_Date__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Close_Initial_Contact_Task</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <description>Should an email notification be sent to the new owner?
Only send if the new owner is active and the current user != new owner.</description>
        <name>Send_New_Owner_Notification</name>
        <label>Send New Owner Notification?</label>
        <locationX>1744</locationX>
        <locationY>1848</locationY>
        <defaultConnector>
            <targetReference>Change_Owner_Date</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip Notification</defaultConnectorLabel>
        <rules>
            <name>Yes_Send_New_Owner_Notification</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Owner:User.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.OwnerId</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$User.Id</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record.OwnerId</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Emails_Enabled_New_Owner_Notification_Decision</targetReference>
            </connector>
            <label>Yes - Send Notification</label>
        </rules>
    </decisions>
    <description>Change Criteria - when Enrichment populates related leads</description>
    <environments>Default</environments>
    <formulas>
        <name>f_enquiryStatus</name>
        <dataType>String</dataType>
        <expression>CASE({!$Record.Status}, 
&quot;Open&quot;, &quot;Open&quot;,
 &quot;Contacted&quot;, &quot;Contacted&quot;,
&quot;Revisit&quot;,&quot;Revisit&quot;,
&quot;Closed&quot;,&quot;Closed - Not Converted&quot;,
&quot;Qualified&quot;,&quot;Closed - Converted&quot;,&quot;&quot;)</expression>
    </formulas>
    <formulas>
        <name>f_isNew</name>
        <dataType>Boolean</dataType>
        <expression>IF({!$Setup.OCS_Config_Settings_CSH__c.Migration_Flows_Enabled__c}, {!$Setup.OCS_Config_Settings_CSH__c.Migration_Flows_Enabled__c}, ISNEW())</expression>
    </formulas>
    <formulas>
        <description>Today</description>
        <name>Today</name>
        <dataType>Date</dataType>
        <expression>TODAY()</expression>
    </formulas>
    <formulas>
        <name>TodayMinus7</name>
        <dataType>Date</dataType>
        <expression>TODAY() - 1</expression>
    </formulas>
    <formulas>
        <name>TodayPlus1</name>
        <dataType>Date</dataType>
        <expression>{!$Flow.CurrentDate}+1</expression>
    </formulas>
    <formulas>
        <name>TodayPlus14</name>
        <dataType>Date</dataType>
        <expression>TODAY() + 14</expression>
    </formulas>
    <formulas>
        <name>TodayPlus7</name>
        <dataType>Date</dataType>
        <expression>TODAY() + 7</expression>
    </formulas>
    <formulas>
        <description>Today plus 90</description>
        <name>Todayplus90days</name>
        <dataType>Date</dataType>
        <expression>TODAY()+90</expression>
    </formulas>
    <interviewLabel>Lead After Create {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Lead: After Create &amp; Update</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_Contact</name>
        <label>Create Contact</label>
        <locationX>1557</locationX>
        <locationY>6648</locationY>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Delete_Lead</targetReference>
        </connector>
        <inputReference>v_New_Contact</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_Enquiry_Record</name>
        <label>Create Enquiry Record</label>
        <locationX>1282</locationX>
        <locationY>7182</locationY>
        <connector>
            <targetReference>Is_Lead_Closed</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Branch__c</field>
            <value>
                <elementReference>$Record.Branch__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Campaign__c</field>
            <value>
                <elementReference>$Record.pi__campaign__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Corporate_Type__c</field>
            <value>
                <elementReference>$Record.Corporate_Type__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Country__c</field>
            <value>
                <elementReference>$Record.Country</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description__c</field>
            <value>
                <elementReference>$Record.Enquiry_Description__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Enquiry_Service__c</field>
            <value>
                <elementReference>$Record.Enquiry_Service__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Lead__c</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </inputAssignments>
        <object>Enquiry__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Initial_Contact_Task_Marketing</name>
        <label>Initial Contact Task - Marketing</label>
        <locationX>402</locationX>
        <locationY>1656</locationY>
        <connector>
            <targetReference>accountMatch</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>ActivityDate</field>
            <value>
                <elementReference>TodayPlus1</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <stringValue>Task to confirm if initial contact has been made</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <stringValue>Initial Contact</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <stringValue>Initial Contact</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>WhoId</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <object>Task</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordDeletes>
        <description>Delete Lead since it&apos;s not a legitimate Lead. Then Stop the Flow since the Lead has been deleted.</description>
        <name>Delete_Lead</name>
        <label>Delete Lead</label>
        <locationX>1029</locationX>
        <locationY>6432</locationY>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputReference>$Record</inputReference>
    </recordDeletes>
    <recordDeletes>
        <name>Delete_Lead_Record</name>
        <label>Delete Lead Record</label>
        <locationX>2690</locationX>
        <locationY>5616</locationY>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputReference>$Record</inputReference>
    </recordDeletes>
    <recordLookups>
        <description>Check if the Contact already exists against the Account.

Use the Account from the Contact of the Contact that the Pardot Email was originally sent to. This ensures the correct Account is always used.</description>
        <name>Check_Existing_Contact_Email</name>
        <label>Check Existing Contact (Email)</label>
        <locationX>1359</locationX>
        <locationY>6216</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Existing_Contact_Found_Decision</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.System_Originating_Account_Id__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Email</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Email</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Contact</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Get Originating Account from the ID field populated by Pardot. This is so that the Originating Account Owner can be used when converting the Lead to a Contact.</description>
        <name>Get_Originating_Account</name>
        <label>Get Originating Account</label>
        <locationX>1359</locationX>
        <locationY>6108</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Existing_Contact_Email</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.System_Originating_Account_Id__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Account Matching Records</description>
        <name>getAccountRecords</name>
        <label>getAccountRecords</label>
        <locationX>666</locationX>
        <locationY>1440</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Create_Initial_Contact_Task</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DUNS_No__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.DUNS_No__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>DUNS_No__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Add_Opt_Out_Date</name>
        <label>Add Opt Out Date</label>
        <locationX>2426</locationX>
        <locationY>4968</locationY>
        <connector>
            <targetReference>DUNS_No_Changed</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>HasOptedOutOfEmail</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Opted_Out_Date__c</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>Update the account on the lead object</description>
        <name>Assign_Existing_Account_To_Lead</name>
        <label>Assign Existing Account To Lead</label>
        <locationX>314</locationX>
        <locationY>2004</locationY>
        <connector>
            <targetReference>Existing_Account_Has_SIC_Code</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Existing_Account__c</field>
            <value>
                <elementReference>getAccountRecords.Id</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Change_Owner_Date</name>
        <label>Change Owner Date</label>
        <locationX>1744</locationX>
        <locationY>2340</locationY>
        <connector>
            <targetReference>Update_Related_Tasks</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Change_Owner_Date__c</field>
            <value>
                <elementReference>Today</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>Close Initial Contact Task where moved to Revisit</description>
        <name>Close_Initial_Contact_Task</name>
        <label>Close Initial Contact Task</label>
        <locationX>2690</locationX>
        <locationY>3096</locationY>
        <connector>
            <targetReference>Is_Lead_Open</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>WhoId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </filters>
        <filters>
            <field>Subject</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Initial Contact</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </inputAssignments>
        <object>Task</object>
    </recordUpdates>
    <recordUpdates>
        <name>Linkedin_Set_Owner_Current_User</name>
        <label>Linkedin Lead - Set Owner = Current User</label>
        <locationX>402</locationX>
        <locationY>1200</locationY>
        <connector>
            <targetReference>getAccountRecords</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Remove_Opt_Out_Date</name>
        <label>Remove Opt Out Date</label>
        <locationX>2954</locationX>
        <locationY>4968</locationY>
        <connector>
            <targetReference>DUNS_No_Changed</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>HasOptedOutOfEmail</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Opted_Out_Date__c</field>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Reopen_Lead</name>
        <label>Reopen Lead</label>
        <locationX>1018</locationX>
        <locationY>7398</locationY>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Create_New_Enquiry__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Primary_Enquiry__c</field>
            <value>
                <elementReference>Create_Enquiry_Record</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>Task Related</description>
        <name>TaskRelated1</name>
        <label>taskRelated</label>
        <locationX>2415</locationX>
        <locationY>3852</locationY>
        <connector>
            <targetReference>Lead_Status_Changed</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Type</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Relationship Call</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record.Tasks</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Closed_Date</name>
        <label>Update Closed Date</label>
        <locationX>2415</locationX>
        <locationY>3744</locationY>
        <connector>
            <targetReference>TaskRelated1</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Closed_Date__c</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>dnb_exclude_company__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Enquiry_Status</name>
        <label>Update Enquiry Status</label>
        <locationX>2470</locationX>
        <locationY>4536</locationY>
        <connector>
            <targetReference>Email_Opt_Out_Changed</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Primary_Enquiry__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <elementReference>f_enquiryStatus</elementReference>
            </value>
        </inputAssignments>
        <object>Enquiry__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_FOI_Account</name>
        <label>Update FOI Account</label>
        <locationX>1711</locationX>
        <locationY>3960</locationY>
        <connector>
            <targetReference>Lead_Status_Changed</targetReference>
        </connector>
        <inputAssignments>
            <field>Account__c</field>
            <value>
                <elementReference>$Record.ConvertedAccountId</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record.FOIs__r</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Lead</name>
        <label>Update Lead</label>
        <locationX>1546</locationX>
        <locationY>7398</locationY>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Create_New_Enquiry__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Primary_Enquiry__c</field>
            <value>
                <elementReference>Create_Enquiry_Record</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Lead_Owner_Manager_Email</name>
        <label>Update Lead Owner Manager Email</label>
        <locationX>1480</locationX>
        <locationY>1608</locationY>
        <connector>
            <targetReference>Send_New_Owner_Notification</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>System_Lead_Owner_Managers_Email__c</field>
            <value>
                <elementReference>$Record.Owner:User.Manager_Email__c</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Qualified_Date</name>
        <label>Update Qualified Date</label>
        <locationX>1843</locationX>
        <locationY>3744</locationY>
        <connector>
            <targetReference>FOIs_on_Lead</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Qualified_Date__c</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>dnb_exclude_company__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Related_Enquries</name>
        <label>Update Related Enquries</label>
        <locationX>1744</locationX>
        <locationY>2556</locationY>
        <connector>
            <targetReference>Update_Related_Events</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Status__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Closed - Converted</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Closed - Not Converted</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Record.Owner:User.Id</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record.Enquiries__r</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Related_Events</name>
        <label>Update Related Events</label>
        <locationX>1744</locationX>
        <locationY>2664</locationY>
        <connector>
            <targetReference>Revisit_Date_Added</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Status__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Cancelled</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Record.Owner:User.Id</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record.Events</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Related_Tasks</name>
        <label>Update Related Tasks</label>
        <locationX>1744</locationX>
        <locationY>2448</locationY>
        <connector>
            <targetReference>Update_Related_Enquries</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Status</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Record.Owner:User.Id</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record.Tasks</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_SIC_from_Account</name>
        <label>Update SIC from Account</label>
        <locationX>50</locationX>
        <locationY>2220</locationY>
        <connector>
            <targetReference>Is_Retain_Grow_Gain_Referral</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>SIC_Code__c</field>
            <value>
                <elementReference>$Record.Existing_Account__r.SIC_Code__c</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>3734</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Automation_Enabled_Decision</targetReference>
        </connector>
        <object>Lead</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <scheduledPaths>
            <name>X7_Days_After_Last_Initial_Contact_Attempt</name>
            <connector>
                <targetReference>Automation_and_Emails_Enabled_Scheduled</targetReference>
            </connector>
            <label>7 Days After Last Initial Contact Attempt</label>
            <offsetNumber>1</offsetNumber>
            <offsetUnit>Days</offsetUnit>
            <recordField>Initial_Contact_Attempt__c</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <subflows>
        <name>Add_to_Ext_Telemarketing_Open_Doors_Lead_Forensics_Campaign_Create</name>
        <label>Add to Ext. Telemarketing - Open Doors - Lead Forensics Campaign</label>
        <locationX>182</locationX>
        <locationY>816</locationY>
        <connector>
            <targetReference>LinkedIn_Lead</targetReference>
        </connector>
        <flowName>Utility_Assign_Lead_to_Campaign_Subflow</flowName>
        <inputAssignments>
            <name>vIn_Campaign_Name</name>
            <value>
                <stringValue>UK&amp;I - External Telemarketing - Open Doors - Lead Forensics</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>vIn_Lead_Record</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Add_to_Ext_Telemarketing_Open_Doors_Lead_Forensics_Campaign_Update</name>
        <label>Add to Ext. Telemarketing - Open Doors - Lead Forensics Campaign</label>
        <locationX>1810</locationX>
        <locationY>1032</locationY>
        <connector>
            <targetReference>Lead_Owned_by_a_User</targetReference>
        </connector>
        <flowName>Utility_Assign_Lead_to_Campaign_Subflow</flowName>
        <inputAssignments>
            <name>vIn_Campaign_Name</name>
            <value>
                <stringValue>UK&amp;I - External Telemarketing - Open Doors - Lead Forensics</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>vIn_Lead_Record</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Add_to_Ext_Telemarketing_Open_Doors_New_Leads_Campaign_Create</name>
        <label>Add to Ext. Telemarketing - Open Doors - New Leads Campaign</label>
        <locationX>446</locationX>
        <locationY>816</locationY>
        <connector>
            <targetReference>LinkedIn_Lead</targetReference>
        </connector>
        <flowName>Utility_Assign_Lead_to_Campaign_Subflow</flowName>
        <inputAssignments>
            <name>vIn_Campaign_Name</name>
            <value>
                <stringValue>UK&amp;I - External Telemarketing - Open Doors - New Leads</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>vIn_Lead_Record</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Add_to_Ext_Telemarketing_Open_Doors_New_Leads_Campaign_Update</name>
        <label>Add to Ext. Telemarketing - Open Doors - New Leads Campaign</label>
        <locationX>2074</locationX>
        <locationY>1032</locationY>
        <connector>
            <targetReference>Lead_Owned_by_a_User</targetReference>
        </connector>
        <flowName>Utility_Assign_Lead_to_Campaign_Subflow</flowName>
        <inputAssignments>
            <name>vIn_Campaign_Name</name>
            <value>
                <stringValue>UK&amp;I - External Telemarketing - Open Doors - New Leads</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>vIn_Lead_Record</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <description>Enrich all leads related by website visit</description>
        <name>Enrich_Related_Leads</name>
        <label>Enrich Related Leads</label>
        <locationX>2822</locationX>
        <locationY>5316</locationY>
        <connector>
            <targetReference>MCAE_TH_Process_Delete_Lead</targetReference>
        </connector>
        <flowName>Lead_Enrich_Related_Leads</flowName>
        <inputAssignments>
            <name>LeadId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Log_Error</name>
        <label>Log Error</label>
        <locationX>2954</locationX>
        <locationY>3204</locationY>
        <flowName>Utility_Error_Log_Creation</flowName>
        <inputAssignments>
            <name>Level</name>
            <value>
                <stringValue>Error</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Messages</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>OriginName</name>
            <value>
                <stringValue>Lead: After Create and Update</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>RecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Type</name>
            <value>
                <stringValue>Flow</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <textTemplates>
        <name>NoActivitiesEmailBody</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>There are no activities associated with this Lead and the last initial contact attempt was 7 days ago.</text>
    </textTemplates>
    <textTemplates>
        <name>NoActivitiesEmailSubject</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Lead has no future associated Activities</text>
    </textTemplates>
    <textTemplates>
        <name>RevisitDateText</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>The Revisit Date for the Lead is upcoming in 7 days ({!$Record.Revisit_Date__c}).

Please navigate to the record and take appropriate actions.</text>
    </textTemplates>
    <textTemplates>
        <name>RevisitDateTitle</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Revisit Date is in 7 Days</text>
    </textTemplates>
    <textTemplates>
        <name>RevisitDescription</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Revisit {!$Record.FirstName} {!$Record.LastName} Lead on {!$Record.Revisit_Date__c}
Notes: {!$Record.Revisit_Notes__c}</text>
    </textTemplates>
    <variables>
        <name>cFutureActivityDate</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>cRecipientEmail</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>cRecordOwner</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>currentItemFromSourceCollection</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CampaignMember</objectType>
    </variables>
    <variables>
        <name>InitialContactTaskId</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Task</objectType>
    </variables>
    <variables>
        <name>v_isNew</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_New_Contact</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Contact</objectType>
    </variables>
</Flow>
