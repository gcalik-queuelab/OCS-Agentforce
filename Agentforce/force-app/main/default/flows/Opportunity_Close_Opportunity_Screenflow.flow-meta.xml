<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <actionCalls>
        <name>Navigate_to_Framework_Agreement</name>
        <label>Navigate to Framework Agreement</label>
        <locationX>2871</locationX>
        <locationY>5360</locationY>
        <actionName>c:navigateToRecord</actionName>
        <actionType>component</actionType>
        <connector>
            <targetReference>Opportunity_Closed_Stage_Decision</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>recordId</name>
            <value>
                <elementReference>Create_Framework_Agreement</elementReference>
            </value>
        </inputParameters>
        <nameSegment>c:navigateToRecord</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>Navigate_to_New_Future_Opportunity</name>
        <label>Navigate to New Future Opportunity</label>
        <locationX>512</locationX>
        <locationY>9104</locationY>
        <actionName>c:navigateToRecord</actionName>
        <actionType>component</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>recordId</name>
            <value>
                <elementReference>v_newFutureOpportunity.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>c:navigateToRecord</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>Open_Contract</name>
        <label>Open Contract</label>
        <locationX>3482</locationX>
        <locationY>6200</locationY>
        <actionName>c:navigateToRecord</actionName>
        <actionType>component</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>recordId</name>
            <value>
                <elementReference>v_OpportunityRecord.Contract__c</elementReference>
            </value>
        </inputParameters>
        <nameSegment>c:navigateToRecord</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>Success_Toast</name>
        <label>Success Toast</label>
        <locationX>3267</locationX>
        <locationY>4580</locationY>
        <actionName>c:showToast</actionName>
        <actionType>component</actionType>
        <connector>
            <targetReference>Open_Bid_Exists</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>type</name>
            <value>
                <stringValue>success</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>message</name>
            <value>
                <stringValue>Opportunity {!v_OpportunityRecord.Name} successfully closed</stringValue>
            </value>
        </inputParameters>
        <nameSegment>c:showToast</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <apiVersion>63.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Assign_Original_Opportunity</name>
        <label>Assign Original Opportunity</label>
        <locationX>644</locationX>
        <locationY>6584</locationY>
        <assignmentItems>
            <assignToReference>v_OriginalOpportunity</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>v_OpportunityRecord.Original_Opportunity__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_New_Opportunity_Information</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Previous_Opportunity_as_Original</name>
        <label>Assign Previous Opportunity as Original</label>
        <locationX>380</locationX>
        <locationY>6584</locationY>
        <assignmentItems>
            <assignToReference>v_OriginalOpportunity</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>v_OpportunityRecord.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_New_Opportunity_Information</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Create_new_Opportunity_Line</name>
        <label>Create new Opportunity Line</label>
        <locationX>600</locationX>
        <locationY>7208</locationY>
        <assignmentItems>
            <assignToReference>For_Each_Contractual_Product.Id</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>For_Each_Contractual_Product.TotalPrice</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>For_Each_Contractual_Product.OpportunityId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>v_newFutureOpportunity.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newOppLines</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>For_Each_Contractual_Product</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>For_Each_Contractual_Product</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Link_Contract</name>
        <label>Link Contract</label>
        <locationX>2090</locationX>
        <locationY>3704</locationY>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.Contract__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Contract_Selection_Table.firstSelectedRow.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Populate_Contract_Terms</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Assign the newly Winning Competitor record to the Opportunity.</description>
        <name>Link_Opp_to_Winning_Competitor</name>
        <label>Link Opp to Winning Competitor</label>
        <locationX>2794</locationX>
        <locationY>3596</locationY>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.Winning_Competitor_Assigned__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.Winning_Competitor__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>l_WinningCompetitor.recordId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Generic_Information</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reassign_Current_Account_Role</name>
        <label>Reassign Current Account Role</label>
        <locationX>204</locationX>
        <locationY>7940</locationY>
        <assignmentItems>
            <assignToReference>For_Each_Winning_Competitor.Id</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>For_Each_Winning_Competitor.Role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Incumbent</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>For_Each_Winning_Competitor.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Incumbent_Record_Type.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>For_Each_Winning_Competitor.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>v_newFutureOpportunity.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newIncumbents</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>For_Each_Winning_Competitor</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>For_Each_Winning_Competitor</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Set the new Award Date as chosen by the user.</description>
        <name>Set_Award_Date</name>
        <label>Set Award Date</label>
        <locationX>3135</locationX>
        <locationY>2456</locationY>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.CloseDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>User_Award_Date</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Solution_Submitted_Date_Required_Decision</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Closed_Lost_Information</name>
        <label>Set Closed Lost Information</label>
        <locationX>3190</locationX>
        <locationY>3164</locationY>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.StageName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>6. Closed Lost</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.Sub_Stage__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>6.1 Closed Lost</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.Closed_Reason__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Closed_Reason_Lost</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_BidRecord.Stage__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.Winning_Competitor__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>l_WinningCompetitor.recordId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_BidRecord.Closed_Reason__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Bid Unsuccessful</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Winning_Competitor_Provided</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Closed_Reason</name>
        <label>Set Closed Reason</label>
        <locationX>3762</locationX>
        <locationY>3380</locationY>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.Closed_Reason__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Closed_Reason_OCS_Withdrawn</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Generic_Information</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Closed_Reason_Customer_Withdrawn</name>
        <label>Set Closed Reason</label>
        <locationX>4026</locationX>
        <locationY>3380</locationY>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.Closed_Reason__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Closed_Reason_Customer_Withdrawn</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Generic_Information</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Closed_Withdrawn_Information</name>
        <label>Set Closed Withdrawn Information</label>
        <locationX>4026</locationX>
        <locationY>3164</locationY>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.StageName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>5. Closed Withdrawn</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.Sub_Stage__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Opportunity_Sub_Stage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_BidRecord.Closed_Reason__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Opportunity Withdrawn</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_BidRecord.Stage__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>OCS_or_Customer_Withdrawn</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Closed_Won_Information</name>
        <label>Set Closed Won Information</label>
        <locationX>2068</locationX>
        <locationY>3164</locationY>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.StageName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>7. Closed Won</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.Sub_Stage__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Opportunity_Sub_Stage_Closed_Won</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_BidRecord.Stage__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_BidRecord.Closed_Reason__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Bid Successful</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.Closed_Reason__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Closed_Reason_Closed_Won</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Contract_Already_Linked_Decision</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Contact_Role_Information</name>
        <label>Set Contact Role Information</label>
        <locationX>600</locationX>
        <locationY>8588</locationY>
        <assignmentItems>
            <assignToReference>For_Each_Contact_Role.Id</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>For_Each_Contact_Role.OpportunityId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>v_newFutureOpportunity.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>For_Each_Contact_Role</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Generic_Information</name>
        <label>Set Generic Information</label>
        <locationX>3267</locationX>
        <locationY>4364</locationY>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.Closed_Further_Details__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Further_Reasons</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_New_Opportunity_Information</name>
        <label>Set New Opportunity Information</label>
        <locationX>512</locationX>
        <locationY>6776</locationY>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>v_OpportunityRecord</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.Id</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.StageName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>2. Prospect</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.Sub_Stage__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>2.1 Future Opportunity</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.CloseDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Award_Date_Future</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.Closed_Reason__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.Closed_Further_Details__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.Type</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>v_opportunityType</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.Contract__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.Bid__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.Bid_Exists__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.Winning_Competitor__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.CloseDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Award_Date_Future</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.Contract_Start_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>f_newStartDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.Contract_End_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>f_newEndDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.Bid_Start_Date__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.Bid_not_required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_newFutureOpportunity.Original_Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>v_OriginalOpportunity</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Future_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Object_Type</name>
        <label>Set Object Type</label>
        <locationX>3003</locationX>
        <locationY>242</locationY>
        <assignmentItems>
            <assignToReference>v_objectType</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Opportunity</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Object_Type_Bid</name>
        <label>Set Object Type Bid</label>
        <locationX>3531</locationX>
        <locationY>242</locationY>
        <assignmentItems>
            <assignToReference>v_objectType</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Bid</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Bid</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Opportunity_Type</name>
        <label>Set Opportunity Type</label>
        <locationX>50</locationX>
        <locationY>6200</locationY>
        <assignmentItems>
            <assignToReference>v_opportunityType</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>New Service</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>From_Original_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Opportunity_Type_2</name>
        <label>Set Opportunity Type</label>
        <locationX>314</locationX>
        <locationY>6200</locationY>
        <assignmentItems>
            <assignToReference>v_opportunityType</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>New Customer</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>From_Original_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Opportunity_Type_3</name>
        <label>Set Opportunity Type</label>
        <locationX>842</locationX>
        <locationY>5984</locationY>
        <assignmentItems>
            <assignToReference>v_opportunityType</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>v_OpportunityRecord.Type</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>From_Original_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_RFI_Outcome</name>
        <label>Set RFI Outcome</label>
        <locationX>3465</locationX>
        <locationY>1190</locationY>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.RFI_Outcome__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>v_RFIOutcome</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AddSupportingInformation</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_RFP_Outcome</name>
        <label>Set RFP Outcome</label>
        <locationX>3729</locationX>
        <locationY>1190</locationY>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.RFP_Outcome__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>v_RFP_Outcome</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AddSupportingInformation</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Solution_Submitted_Date</name>
        <label>Set Solution Submitted Date</label>
        <locationX>3135</locationX>
        <locationY>2864</locationY>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord.RFP_Submitted_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Date_Solution_Submitted</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Evaluate_Opp_Status</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Stage_Lost_Withdrawn</name>
        <label>Set Stage (Lost/Withdrawn)</label>
        <locationX>2673</locationX>
        <locationY>1298</locationY>
        <assignmentItems>
            <assignToReference>vIn_Opportunity_Stage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Opportunity_Status_Lost_Withdrawn</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AddSupportingInformation</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Stage_Withdrawn</name>
        <label>Set Stage (Withdrawn)</label>
        <locationX>2937</locationX>
        <locationY>1298</locationY>
        <assignmentItems>
            <assignToReference>vIn_Opportunity_Stage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Opportunity_Status_Withdrawn</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AddSupportingInformation</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Stage_Won_Lost_Withdrawn</name>
        <label>Set Stage (Won/Lost/Withdrawn)</label>
        <locationX>2409</locationX>
        <locationY>1298</locationY>
        <assignmentItems>
            <assignToReference>vIn_Opportunity_Stage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Opportunity_Stage_Won_Lost_Withdrawn</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>AddSupportingInformation</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Variables</name>
        <label>Set Variables</label>
        <locationX>3003</locationX>
        <locationY>566</locationY>
        <assignmentItems>
            <assignToReference>v_BidRecord</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Bid_Record_from_Opportunity</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Opportunity</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_Record_Access</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Variables_Bid</name>
        <label>Set Variables</label>
        <locationX>3531</locationX>
        <locationY>566</locationY>
        <assignmentItems>
            <assignToReference>v_BidRecord</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Bid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>v_OpportunityRecord</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Opportunity_from_Bid</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_Record_Access</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Since Closed Reason Validation failed set a Boolean to TRUE and take the user back to the Add Supporting Information screen. A warning will be shown to choose another Closed Reason.</description>
        <name>Show_Closed_Reason_Error</name>
        <label>Show Closed Reason Error</label>
        <locationX>2981</locationX>
        <locationY>1898</locationY>
        <assignmentItems>
            <assignToReference>v_Show_Closed_Reason_Validation_Error</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>AddSupportingInformation</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>Benchmarking</name>
        <choiceText>Benchmarking</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Benchmarking</stringValue>
        </value>
    </choices>
    <choices>
        <name>c_5_1_OCS_Withdrawn</name>
        <choiceText>5.1 OCS Withdrawn</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>5.1 OCS Withdrawn</stringValue>
        </value>
    </choices>
    <choices>
        <name>c_5_2_Customer_Withdrawn</name>
        <choiceText>5.2 Customer Withdrawn</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>5.2 Customer Withdrawn</stringValue>
        </value>
    </choices>
    <choices>
        <name>c_5_Closed_Withdrawn</name>
        <choiceText>Closed Withdrawn</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>5. Closed Withdrawn</stringValue>
        </value>
    </choices>
    <choices>
        <name>c_6_Closed_Lost</name>
        <choiceText>Closed Lost</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>6. Closed Lost</stringValue>
        </value>
    </choices>
    <choices>
        <name>c_7_1_Written_Confirmation</name>
        <choiceText>7.1 Written Confirmation</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>7.1 Written Confirmation</stringValue>
        </value>
    </choices>
    <choices>
        <name>c_7_2_TCs_Signed</name>
        <choiceText>7.2 T&amp;amp;Cs Signed</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>7.2 T&amp;Cs Signed</stringValue>
        </value>
    </choices>
    <choices>
        <name>c_7_Closed_Won</name>
        <choiceText>Closed Won</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>7. Closed Won</stringValue>
        </value>
    </choices>
    <choices>
        <name>capability</name>
        <choiceText>Capability</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Capability</stringValue>
        </value>
    </choices>
    <choices>
        <name>Closure</name>
        <choiceText>Closure</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Closure</stringValue>
        </value>
    </choices>
    <choices>
        <name>Commitments</name>
        <choiceText>Commitments</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Commitments</stringValue>
        </value>
    </choices>
    <choices>
        <name>covid19</name>
        <choiceText>Covid-19</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Covid-19</stringValue>
        </value>
    </choices>
    <choices>
        <name>customerWithdrawn_Reason</name>
        <choiceText>Customer Withdrawn</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Customer Withdrawn</stringValue>
        </value>
    </choices>
    <choices>
        <name>Duplicated</name>
        <choiceText>Duplicated</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Duplicated</stringValue>
        </value>
    </choices>
    <choices>
        <name>ESG</name>
        <choiceText>ESG</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>ESG</stringValue>
        </value>
    </choices>
    <choices>
        <name>Geography</name>
        <choiceText>Geography</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Geography</stringValue>
        </value>
    </choices>
    <choices>
        <name>Historical_Performance</name>
        <choiceText>Historical Performance</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Historical Performance</stringValue>
        </value>
    </choices>
    <choices>
        <name>Moved_In_House</name>
        <choiceText>Moved In-House</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Moved In-House</stringValue>
        </value>
    </choices>
    <choices>
        <name>MoveToGlobalDeal</name>
        <choiceText>Move to Global Deal</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Move to Global Deal</stringValue>
        </value>
    </choices>
    <choices>
        <name>noRelationship</name>
        <choiceText>No Relationship</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>No Relationship</stringValue>
        </value>
    </choices>
    <choices>
        <name>notInStrategy</name>
        <choiceText>Not in Strategy</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Not in Strategy</stringValue>
        </value>
    </choices>
    <choices>
        <name>ocsMerger</name>
        <choiceText>OCS Merger</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>OCS Merger</stringValue>
        </value>
    </choices>
    <choices>
        <name>OfferQuality</name>
        <choiceText>Offer Quality</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Offer Quality</stringValue>
        </value>
    </choices>
    <choices>
        <name>People</name>
        <choiceText>People</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>People</stringValue>
        </value>
    </choices>
    <choices>
        <name>Performance</name>
        <choiceText>Performance</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Performance</stringValue>
        </value>
    </choices>
    <choices>
        <name>Postponed</name>
        <choiceText>Postponed</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Postponed</stringValue>
        </value>
    </choices>
    <choices>
        <name>Price</name>
        <choiceText>Price</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Price</stringValue>
        </value>
    </choices>
    <choices>
        <name>Quality</name>
        <choiceText>Quality</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Quality</stringValue>
        </value>
    </choices>
    <choices>
        <name>reason</name>
        <choiceText>reason</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>reason</stringValue>
        </value>
    </choices>
    <choices>
        <name>Reason_Pending</name>
        <choiceText>Reason Pending</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Reason Pending</stringValue>
        </value>
    </choices>
    <choices>
        <name>Relationship</name>
        <choiceText>Relationship</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Relationship</stringValue>
        </value>
    </choices>
    <choices>
        <name>Resource</name>
        <choiceText>Resource</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Resource</stringValue>
        </value>
    </choices>
    <choices>
        <name>Risk_Financial</name>
        <choiceText>Risk - Financial</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Risk - Financial</stringValue>
        </value>
    </choices>
    <choices>
        <name>Risk_Reputation</name>
        <choiceText>Risk - Reputation</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Risk - Reputation</stringValue>
        </value>
    </choices>
    <choices>
        <name>RiskDiversity</name>
        <choiceText>Risk Diversity</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Risk Diversity</stringValue>
        </value>
    </choices>
    <choices>
        <name>Size</name>
        <choiceText>Size</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Size</stringValue>
        </value>
    </choices>
    <choices>
        <name>Solution</name>
        <choiceText>Solution</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Solution</stringValue>
        </value>
    </choices>
    <choices>
        <name>SolutionDesign</name>
        <choiceText>Solution Design</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Solution Design</stringValue>
        </value>
    </choices>
    <choices>
        <name>Technology</name>
        <choiceText>Technology</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Technology</stringValue>
        </value>
    </choices>
    <choices>
        <name>TermsAndConditions</name>
        <choiceText>Terms and Conditions</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Terms &amp; Conditions</stringValue>
        </value>
    </choices>
    <choices>
        <name>ThirdParty</name>
        <choiceText>Third Party</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Third Party</stringValue>
        </value>
    </choices>
    <choices>
        <name>Timeline_Long</name>
        <choiceText>Timeline - Long</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Timeline - Long</stringValue>
        </value>
    </choices>
    <choices>
        <name>Timeline_Short</name>
        <choiceText>Timeline - Short</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Timeline - Short</stringValue>
        </value>
    </choices>
    <choices>
        <name>TradeUnions</name>
        <choiceText>Trade Unions</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Trade Unions</stringValue>
        </value>
    </choices>
    <choices>
        <name>UnsuccessfulTender</name>
        <choiceText>Unsuccessful Tender</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Unsuccessful Tender</stringValue>
        </value>
    </choices>
    <decisions>
        <description>Check if the Award Date is in the Past. If it is then show the user a screen asking them to select the Award Date. If it is not in the Past then continue without this.</description>
        <name>Award_Date_in_Past_Check</name>
        <label>Award Date in Past Check</label>
        <locationX>3267</locationX>
        <locationY>2240</locationY>
        <defaultConnector>
            <targetReference>Solution_Submitted_Date_Required_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Past - Continue</defaultConnectorLabel>
        <rules>
            <name>Award_Date_Past_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.CloseDate</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <elementReference>$Flow.CurrentDate</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Choose_Award_Date_Screen</targetReference>
            </connector>
            <label>Award Date Past</label>
        </rules>
    </decisions>
    <decisions>
        <description>If Opp = Rebid/Extension and selected Closed Reason = Benchmarking, Client Withdrawn, Reason Pending then show error message to user preventing them from selecting that reason.</description>
        <name>Closed_Reason_Validation</name>
        <label>Closed Reason Validation</label>
        <locationX>3113</locationX>
        <locationY>1790</locationY>
        <defaultConnector>
            <targetReference>Award_Date_in_Past_Check</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Passed - Continue</defaultConnectorLabel>
        <rules>
            <name>Validation_Failed_Show_Error</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Closed_Reason_OCS_Withdrawn</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Benchmarking</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Closed_Reason_OCS_Withdrawn</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Customer Withdrawn</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Closed_Reason_Customer_Withdrawn</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Benchmarking</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Closed_Reason_Customer_Withdrawn</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Customer Withdrawn</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Closed_Reason_Lost</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Benchmarking</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Closed_Reason_Lost</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Customer Withdrawn</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Closed_Reason_Closed_Won</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Benchmarking</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Closed_Reason_Closed_Won</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Customer Withdrawn</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Show_Closed_Reason_Error</targetReference>
            </connector>
            <label>Validation Failed - Show Error</label>
        </rules>
    </decisions>
    <decisions>
        <name>Contract_Already_Linked_Decision</name>
        <label>Contract Already Linked?</label>
        <locationX>2068</locationX>
        <locationY>3272</locationY>
        <defaultConnector>
            <targetReference>Get_Open_Contracts</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Choose Contract</defaultConnectorLabel>
        <rules>
            <name>Yes_Contract_Already_Linked_Skip_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Contract__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Populate_Contract_Terms</targetReference>
            </connector>
            <label>Yes - Skip</label>
        </rules>
    </decisions>
    <decisions>
        <description>For Upsell/Cross-Sell Opps if the Opp was already linked to a Contract prior to Closure then changes to a Contract will not be made.
However if the Opps are related to a Contract then the user will be required to update the Contract info themselves after closing the Opp.</description>
        <name>Contract_Already_Linked_Upsell_CrossSell_Decision</name>
        <label>Contract Already Linked?</label>
        <locationX>3614</locationX>
        <locationY>5984</locationY>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Outcome_1_of_Contract_Already_Linked_Decision</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Contract__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Contract_Not_Created_Message</targetReference>
            </connector>
            <label>Yes - Show Message</label>
        </rules>
    </decisions>
    <decisions>
        <description>Do not show Contract not created message if Corporate Type = Automotive.</description>
        <name>Corporate_Type_Decision</name>
        <label>Corporate Type Decision</label>
        <locationX>3515</locationX>
        <locationY>5768</locationY>
        <defaultConnector>
            <targetReference>Sub_Stage_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other Corp Types</defaultConnectorLabel>
        <rules>
            <name>Automotive_Corp_Type_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Corporate_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Automotive</stringValue>
                </rightValue>
            </conditions>
            <label>Automotive Corp Type</label>
        </rules>
    </decisions>
    <decisions>
        <name>Create_new_Future_Opportunity</name>
        <label>Create new Future Opportunity</label>
        <locationX>1733</locationX>
        <locationY>5768</locationY>
        <defaultConnectorLabel>Don&apos;t Create Future Opp</defaultConnectorLabel>
        <rules>
            <name>Create_new_Future_Opp</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>futureOpportunityConfirmation.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_Closed_Opportunity_a_Rebid</targetReference>
            </connector>
            <label>Create new Future Opp</label>
        </rules>
    </decisions>
    <decisions>
        <name>Evaluate_Object_Type</name>
        <label>Evaluate Object Type</label>
        <locationX>3267</locationX>
        <locationY>134</locationY>
        <defaultConnector>
            <targetReference>Set_Object_Type_Bid</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Bid</defaultConnectorLabel>
        <rules>
            <name>Opportunity</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>006</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Object_Type</targetReference>
            </connector>
            <label>Opportunity</label>
        </rules>
    </decisions>
    <decisions>
        <name>Evaluate_Opp_Status</name>
        <label>Evaluate Opp Status</label>
        <locationX>3267</locationX>
        <locationY>3056</locationY>
        <defaultConnector>
            <targetReference>Set_Generic_Information</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Closed_Won</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vIn_Opportunity_Stage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>c_7_Closed_Won</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Closed_Won_Information</targetReference>
            </connector>
            <label>Closed Won</label>
        </rules>
        <rules>
            <name>Closed_Lost</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vIn_Opportunity_Stage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>c_6_Closed_Lost</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Closed_Lost_Information</targetReference>
            </connector>
            <label>Closed Lost</label>
        </rules>
        <rules>
            <name>Closed_Withdrawn_Status</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vIn_Opportunity_Stage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>c_5_Closed_Withdrawn</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Closed_Withdrawn_Information</targetReference>
            </connector>
            <label>Closed Withdrawn</label>
        </rules>
    </decisions>
    <decisions>
        <name>From_Original_Opportunity</name>
        <label>From Original Opportunity?</label>
        <locationX>512</locationX>
        <locationY>6476</locationY>
        <defaultConnector>
            <targetReference>Assign_Original_Opportunity</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Original</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Original_Opportunity__c</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Assign_Previous_Opportunity_as_Original</targetReference>
            </connector>
            <label>Yes Original</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Closed_Opportunity_a_Rebid</name>
        <label>Is Closed Opportunity a Rebid?</label>
        <locationX>512</locationX>
        <locationY>5876</locationY>
        <defaultConnector>
            <targetReference>Set_Opportunity_Type_3</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Type_is_Rebid</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Rebid</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_for_other_open_Contracts</targetReference>
            </connector>
            <label>Type is Rebid</label>
        </rules>
    </decisions>
    <decisions>
        <description>Where the Opp Type is not New Customer, Open Contracts are found for the Account and the Opportunity does not already link to a Contract give the user the option to link the Opportunity to an existing Contract before a new one is created.</description>
        <name>Link_to_Contract_Required_Decision</name>
        <label>Link to Contract Required?</label>
        <locationX>2222</locationX>
        <locationY>3488</locationY>
        <defaultConnector>
            <targetReference>Populate_Contract_Terms</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Link_to_Contract_Decision</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Type</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>New Customer</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Open_Contracts</leftValueReference>
                <operator>IsEmpty</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Contract__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Link_to_Contract_Screen</targetReference>
            </connector>
            <label>Yes - Link to Contract</label>
        </rules>
    </decisions>
    <decisions>
        <name>OCS_or_Customer_Withdrawn</name>
        <label>OCS or Customer Withdrawn</label>
        <locationX>4026</locationX>
        <locationY>3272</locationY>
        <defaultConnector>
            <targetReference>Set_Generic_Information</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>OCS_Withdrawn</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Sub_Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>5.1 OCS Withdrawn</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Closed_Reason</targetReference>
            </connector>
            <label>OCS Withdrawn</label>
        </rules>
        <rules>
            <name>Customer_Withdrawn</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Sub_Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>5.2 Customer Withdrawn</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Closed_Reason_Customer_Withdrawn</targetReference>
            </connector>
            <label>Customer Withdrawn</label>
        </rules>
    </decisions>
    <decisions>
        <description>If a Bid Exists and is Open then Close it. If the Bid is already closed then take no action.</description>
        <name>Open_Bid_Exists</name>
        <label>Open Bid Exists?</label>
        <locationX>3267</locationX>
        <locationY>4688</locationY>
        <defaultConnector>
            <targetReference>Opportunity_Won_0_Value_and_New_Customer</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No- Continue</defaultConnectorLabel>
        <rules>
            <name>Open_Bid_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_BidRecord.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_BidRecord.Stage__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Bid</targetReference>
            </connector>
            <label>Open Bid Found</label>
        </rules>
    </decisions>
    <decisions>
        <description>If Opp Type = Rebid/Extension then validate Closed Reason before continuing. Otherwise continue.</description>
        <name>Opp_Type_Closed_Reason_Validation</name>
        <label>Opp Type (Closed Reason Validation)</label>
        <locationX>3267</locationX>
        <locationY>1682</locationY>
        <defaultConnector>
            <targetReference>Award_Date_in_Past_Check</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other - Skip</defaultConnectorLabel>
        <rules>
            <name>Type_Rebid_Extension_Outcome</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Rebid</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Extension</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Closed_Reason_Validation</targetReference>
            </connector>
            <label>Type = Rebid/Extension</label>
        </rules>
    </decisions>
    <decisions>
        <description>Is the Opportunity Closed Won, Lost or Withdrawn?

If Lost or Withdrawn then if other criteria are met take the user to the create future opportunity screen.</description>
        <name>Opportunity_Closed_Stage_Decision</name>
        <label>Opportunity Closed Stage Decision</label>
        <locationX>3267</locationX>
        <locationY>5552</locationY>
        <defaultConnectorLabel>Other - Skip</defaultConnectorLabel>
        <rules>
            <name>Lost_or_Withdrawn</name>
            <conditionLogic>(1 OR 2) AND (3 OR 4 OR 5) AND 6</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>6. Closed Lost</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>5. Closed Withdrawn</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New Customer</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New Service</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Rebid</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Annual_Contractual_Revenue__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>New_Future_Opportunity</targetReference>
            </connector>
            <label>Lost or Withdrawn</label>
        </rules>
        <rules>
            <name>Won</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>7. Closed Won</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Type_Decision</targetReference>
            </connector>
            <label>Won</label>
        </rules>
    </decisions>
    <decisions>
        <name>Opportunity_Status_Chosen</name>
        <label>Opportunity Status Chosen?</label>
        <locationX>2805</locationX>
        <locationY>1190</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Closed_Won_Lost_Withdrawn_Stage_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opportunity_Stage_Won_Lost_Withdrawn</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Stage_Won_Lost_Withdrawn</targetReference>
            </connector>
            <label>Closed Won/Lost/Withdrawn</label>
        </rules>
        <rules>
            <name>Closed_Withdrawn_or_Lost_Stage_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opportunity_Status_Lost_Withdrawn</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Stage_Lost_Withdrawn</targetReference>
            </connector>
            <label>Closed Lost/Withdrawn</label>
        </rules>
        <rules>
            <name>Closed_Withdrawn</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opportunity_Status_Withdrawn</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Stage_Withdrawn</targetReference>
            </connector>
            <label>Closed Withdrawn</label>
        </rules>
    </decisions>
    <decisions>
        <name>Opportunity_Won_0_Value_and_New_Customer</name>
        <label>Opportunity Won, 0 Value and New Customer?</label>
        <locationX>3267</locationX>
        <locationY>5036</locationY>
        <defaultConnector>
            <targetReference>Opportunity_Closed_Stage_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_All</name>
            <conditionLogic>1 AND (2 OR 4) AND 3</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>7. Closed Won</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Amount</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New Customer</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Amount</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Framework_Agreement</targetReference>
            </connector>
            <label>Yes All</label>
        </rules>
    </decisions>
    <decisions>
        <name>Other_Contracts</name>
        <label>Other Contracts?</label>
        <locationX>182</locationX>
        <locationY>6092</locationY>
        <defaultConnector>
            <targetReference>Set_Opportunity_Type_2</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Contracts_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Check_for_other_open_Contracts</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Opportunity_Type</targetReference>
            </connector>
            <label>Contracts Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Outcome_Provided</name>
        <label>Outcome Provided?</label>
        <locationX>3729</locationX>
        <locationY>1082</locationY>
        <defaultConnector>
            <targetReference>AddSupportingInformation</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>RFI_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_RFIOutcome</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_RFI_Outcome</targetReference>
            </connector>
            <label>RFI Outcome</label>
        </rules>
        <rules>
            <name>RFP_Outcome_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_RFP_Outcome</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_RFP_Outcome</targetReference>
            </connector>
            <label>RFP Outcome</label>
        </rules>
    </decisions>
    <decisions>
        <name>Populate_Contract_Terms</name>
        <label>Populate Contract Terms?</label>
        <locationX>2068</locationX>
        <locationY>3980</locationY>
        <defaultConnector>
            <targetReference>Set_Generic_Information</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>(1 OR 2) AND 3 AND 4 AND 5</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Owner_Country__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>United Kingdom</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Owner_Country__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Ireland</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Opportunity_Sub_Stage_Closed_Won</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>c_7_2_TCs_Signed</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Corporate_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Facilities</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Annual_Contractual_Revenue__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Capture_Contract_Terms</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <description>For Won/Lost Opps ensure that the RFP Submitted Date (Solution Submitted Date) is populated. Prompt the user to complete this if it is not.</description>
        <name>Solution_Submitted_Date_Required_Decision</name>
        <label>Solution Submitted Date Required?</label>
        <locationX>3267</locationX>
        <locationY>2648</locationY>
        <defaultConnector>
            <targetReference>Evaluate_Opp_Status</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Continue</defaultConnectorLabel>
        <rules>
            <name>Yes_Populate_Solution_Submitted_Date_Outcome</name>
            <conditionLogic>1 AND (2 OR 3)</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.RFP_Submitted_Date__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>vIn_Opportunity_Stage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>c_7_Closed_Won</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>vIn_Opportunity_Stage</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>c_6_Closed_Lost</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Submitted_Date_Screen</targetReference>
            </connector>
            <label>Yes - Populate Solution Submitted Date</label>
        </rules>
    </decisions>
    <decisions>
        <description>Was the Stage set via Input Variable?</description>
        <name>Stage_Preset_Decision</name>
        <label>Stage Preset?</label>
        <locationX>3267</locationX>
        <locationY>974</locationY>
        <defaultConnector>
            <targetReference>Outcome_Provided</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Stage Preset</defaultConnectorLabel>
        <rules>
            <name>Stage_Blank_Output</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vIn_Opportunity_Stage</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Close_Opportunity</targetReference>
            </connector>
            <label>Stage Blank</label>
        </rules>
    </decisions>
    <decisions>
        <description>Is the Sub Stage set to 7.2 T&amp;Cs Signed? If so then show message. Otherwise don&apos;t.</description>
        <name>Sub_Stage_Decision</name>
        <label>Sub Stage Decision</label>
        <locationX>3812</locationX>
        <locationY>5876</locationY>
        <defaultConnectorLabel>Other - Skip</defaultConnectorLabel>
        <rules>
            <name>X7_2_T_Cs_Signed_CrossSell_Upsell_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Sub_Stage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>7.2 T&amp;Cs Signed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Contract_Already_Linked_Upsell_CrossSell_Decision</targetReference>
            </connector>
            <label>7.2 T&amp;Cs Signed</label>
        </rules>
    </decisions>
    <decisions>
        <description>If Opportunity Type = Upsell or Cross-Sell then show a message that no action has been taken in relation to Contracts and the user must manually update contract lines to reflect the latest changes.</description>
        <name>Type_Decision</name>
        <label>Type Decision</label>
        <locationX>4026</locationX>
        <locationY>5660</locationY>
        <defaultConnectorLabel>Other Types - End</defaultConnectorLabel>
        <rules>
            <name>Upsell_Cross_Sell_Outcome</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Upsell</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cross-Sell</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Corporate_Type_Decision</targetReference>
            </connector>
            <label>Upsell/Cross-Sell</label>
        </rules>
        <rules>
            <name>Rebid_Extension_Outcome</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Rebid</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>v_OpportunityRecord.Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Extension</stringValue>
                </rightValue>
            </conditions>
            <label>Rebid/Extension</label>
        </rules>
    </decisions>
    <decisions>
        <name>Winning_Competitor_Found</name>
        <label>Winning Competitor Found?</label>
        <locationX>512</locationX>
        <locationY>7616</locationY>
        <defaultConnector>
            <targetReference>Get_Opportunity_Contact_Roles</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Winning_Competitor_Available</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Winning_Competitors</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Incumbent_Record_Type</targetReference>
            </connector>
            <label>Winning Competitor Available</label>
        </rules>
    </decisions>
    <decisions>
        <name>Winning_Competitor_Provided</name>
        <label>Winning Competitor Provided?</label>
        <locationX>3190</locationX>
        <locationY>3272</locationY>
        <defaultConnector>
            <targetReference>Set_Generic_Information</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Set</defaultConnectorLabel>
        <rules>
            <name>Winning_Competitor_Set</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>l_WinningCompetitor.recordId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Winning_Competitor_Record_Type</targetReference>
            </connector>
            <label>Winning Competitor Set</label>
        </rules>
    </decisions>
    <description>AD-692 - Flow to close the Opportunity and Bid Records
With Opp &amp; Account Data Fix
Add Contract Terms
Correct Future New End Date</description>
    <dynamicChoiceSets>
        <name>c_closedReason</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>Closed_Reason__c</picklistField>
        <picklistObject>Opportunity</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>p_opportunityStatus</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>StageName</picklistField>
        <picklistObject>Opportunity</picklistObject>
    </dynamicChoiceSets>
    <environments>Default</environments>
    <formulas>
        <name>f_newAwardDate</name>
        <dataType>Date</dataType>
        <expression>{!f_newStartDate} - ({!v_OpportunityRecord.Contract_Start_Date__c} - {!v_OpportunityRecord.CloseDate})</expression>
    </formulas>
    <formulas>
        <name>f_newEndDate</name>
        <dataType>Date</dataType>
        <expression>IF ({!v_OpportunityRecord.Contract_Term_Years__c} &gt; 0, ADDMONTHS({!v_OpportunityRecord.Contract_End_Date__c},{!v_OpportunityRecord.Contract_Term_Years__c}*12), ADDMONTHS({!v_OpportunityRecord.Contract_End_Date__c},{!v_OpportunityRecord.Contract_Term_Months__c}))</expression>
    </formulas>
    <formulas>
        <name>f_newStartDate</name>
        <dataType>Date</dataType>
        <expression>{!v_OpportunityRecord.Contract_End_Date__c} + 1</expression>
    </formulas>
    <formulas>
        <name>f_showClosedLostPicklist</name>
        <dataType>Boolean</dataType>
        <expression>TEXT({!v_OpportunityRecord.Sub_Stage__c}) == &apos;&apos; ||
TEXT({!v_OpportunityRecord.Sub_Stage__c}) = &quot;3.2 RFI Submitted&quot;</expression>
    </formulas>
    <formulas>
        <description>Show Won picklist for all Opps in Stage 4.
Additionally show for 3.4 for Full Opps and for 2.2 or 3.3 for Lite Opps (with the condition that the Flow collects the Solution Submitted Date).</description>
        <name>f_showClosedWonPicklist</name>
        <dataType>Boolean</dataType>
        <expression>CONTAINS(TEXT({!v_OpportunityRecord.Sub_Stage__c}), &apos;4.&apos;) /* Show Won Picklist if Stage = 4 for either Record Type. */
||
IF({!v_OpportunityRecord.RecordType.DeveloperName} = &apos;Full_Bid_Opportunity&apos;,
OR(
CONTAINS(TEXT({!v_OpportunityRecord.Sub_Stage__c}), &apos;2.2&apos;), /* Allow Won at 2.2, 2.3 and 3. but not 2.1 for Full Opps */
CONTAINS(TEXT({!v_OpportunityRecord.Sub_Stage__c}), &apos;2.3&apos;),
CONTAINS(TEXT({!v_OpportunityRecord.StageName}), &apos;3.&apos;)  
)
,  /* This is the divider between Full Opp criteria (above) and Lite Opp criteria (below) */
OR(
CONTAINS(TEXT({!v_OpportunityRecord.Sub_Stage__c}), &apos;2.2&apos;),
CONTAINS(TEXT({!v_OpportunityRecord.StageName}), &apos;3.&apos;)
)
)</expression>
    </formulas>
    <interviewLabel>Opportunity: Close Opportunity Screenflow {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Opportunity: Close Opportunity Subflow</label>
    <loops>
        <name>For_Each_Contact_Role</name>
        <label>For Each Contact Role</label>
        <locationX>512</locationX>
        <locationY>8480</locationY>
        <collectionReference>Get_Opportunity_Contact_Roles</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Set_Contact_Role_Information</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Create_Contact_Roles</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>For_Each_Contractual_Product</name>
        <label>For Each Contractual Product</label>
        <locationX>512</locationX>
        <locationY>7100</locationY>
        <collectionReference>Get_Current_Contractual</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Create_new_Opportunity_Line</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Create_Opp_Lines</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>For_Each_Winning_Competitor</name>
        <label>For Each Winning Competitor</label>
        <locationX>116</locationX>
        <locationY>7832</locationY>
        <collectionReference>Get_Winning_Competitors</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Reassign_Current_Account_Role</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Create_Incumbents</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Create_Contact_Roles</name>
        <label>Create Contact Roles</label>
        <locationX>512</locationX>
        <locationY>8780</locationY>
        <connector>
            <targetReference>Get_New_Future_Opportunity</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputReference>v_newContactRoles</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_Framework_Agreement</name>
        <label>Create Framework Agreement</label>
        <locationX>2871</locationX>
        <locationY>5144</locationY>
        <connector>
            <targetReference>Update_Framework_on_Opp</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Account__c</field>
            <value>
                <elementReference>v_OpportunityRecord.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>End_Date__c</field>
            <value>
                <elementReference>v_OpportunityRecord.Contract_End_Date__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Frameworks_Opportunity__c</field>
            <value>
                <elementReference>v_OpportunityRecord.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Key_Contact__c</field>
            <value>
                <elementReference>v_OpportunityRecord.Primary_Contact__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Start_Date__c</field>
            <value>
                <elementReference>v_OpportunityRecord.Contract_Start_Date__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Active</stringValue>
            </value>
        </inputAssignments>
        <object>Framework_Agreement__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_Future_Opportunity</name>
        <label>Create Future Opportunity</label>
        <locationX>512</locationX>
        <locationY>6884</locationY>
        <connector>
            <targetReference>Get_Current_Contractual</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputReference>v_newFutureOpportunity</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_Incumbents</name>
        <label>Create Incumbents</label>
        <locationX>116</locationX>
        <locationY>8132</locationY>
        <connector>
            <targetReference>Get_Opportunity_Contact_Roles</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputReference>v_newIncumbents</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_Opp_Lines</name>
        <label>Create Opp Lines</label>
        <locationX>512</locationX>
        <locationY>7400</locationY>
        <connector>
            <targetReference>Get_Winning_Competitors</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputReference>v_newOppLines</inputReference>
    </recordCreates>
    <recordCreates>
        <description>When we are moving to Closed Lost, we need to make sure that we also create a Winning Competitor record based on the account chosen by the user.</description>
        <name>Create_Winning_Competitor</name>
        <label>Create Winning Competitor</label>
        <locationX>2794</locationX>
        <locationY>3488</locationY>
        <connector>
            <targetReference>Link_Opp_to_Winning_Competitor</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Account__c</field>
            <value>
                <elementReference>l_WinningCompetitor.recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>l_WinningCompetitor.recordName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Opportunity__c</field>
            <value>
                <elementReference>v_OpportunityRecord.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_Winning_Competitor_Record_Type.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Role__c</field>
            <value>
                <stringValue>Winning Competitor</stringValue>
            </value>
        </inputAssignments>
        <object>Account_Role__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>Check_for_other_open_Contracts</name>
        <label>Check for other open Contracts</label>
        <locationX>182</locationX>
        <locationY>5984</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Other_Contracts</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>(1 AND 2)  AND (3 OR 4 OR 5)</filterLogic>
        <filters>
            <field>Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>v_OpportunityRecord.AccountId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>v_OpportunityRecord.Contract__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Mobilisation</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Live</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>At Risk</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Contract__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Bid</name>
        <label>Get Bid Record</label>
        <locationX>3531</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Opportunity_from_Bid</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Bid__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Bid_Record_from_Opportunity</name>
        <label>Get Bid Record from Opportunity</label>
        <locationX>3003</locationX>
        <locationY>458</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_Variables</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Bid__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Current_Contractual</name>
        <label>Get Current Contractual Products</label>
        <locationX>512</locationX>
        <locationY>6992</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>For_Each_Contractual_Product</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>v_OpportunityRecord.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>OpportunityLineItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Incumbent_Record_Type</name>
        <label>Get Incumbent Record Type</label>
        <locationX>116</locationX>
        <locationY>7724</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>For_Each_Winning_Competitor</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Account_Role__c</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Incumbent</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_New_Future_Opportunity</name>
        <label>Get New Future Opportunity</label>
        <locationX>512</locationX>
        <locationY>8888</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>sFuture_Opportunity_Created</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>v_newFutureOpportunity.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Open_Contracts</name>
        <label>Get Open Contracts</label>
        <locationX>2222</locationX>
        <locationY>3380</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Link_to_Contract_Required_Decision</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>v_OpportunityRecord.AccountId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Terminated</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Contract__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity</name>
        <label>Get Opportunity</label>
        <locationX>3003</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Bid_Record_from_Opportunity</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity_Contact_Roles</name>
        <label>Get Opportunity Contact Roles</label>
        <locationX>512</locationX>
        <locationY>8372</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>For_Each_Contact_Role</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>v_OpportunityRecord.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>OpportunityContactRole</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity_from_Bid</name>
        <label>Get Opportunity from Bid</label>
        <locationX>3531</locationX>
        <locationY>458</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_Variables_Bid</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Bid.Opportunity__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Get the Winning Competitor account role record type</description>
        <name>Get_Winning_Competitor_Record_Type</name>
        <label>Get Winning Competitor Record Type</label>
        <locationX>2794</locationX>
        <locationY>3380</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Create_Winning_Competitor</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Account_Role__c</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Winning_Competitor</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Winning_Competitors</name>
        <label>Get Winning Competitors</label>
        <locationX>512</locationX>
        <locationY>7508</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Winning_Competitor_Found</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>v_OpportunityRecord.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Role__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Winning Competitor</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Account_Role__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <description>Update the Bid record using the assignments that we set earlier</description>
        <name>Update_Bid</name>
        <label>Update Bid</label>
        <locationX>3003</locationX>
        <locationY>4796</locationY>
        <connector>
            <targetReference>Opportunity_Won_0_Value_and_New_Customer</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputReference>v_BidRecord</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Framework_on_Opp</name>
        <label>Update Framework on Opp</label>
        <locationX>2871</locationX>
        <locationY>5252</locationY>
        <connector>
            <targetReference>Navigate_to_Framework_Agreement</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Framework_Agreement__c</field>
            <value>
                <elementReference>Create_Framework_Agreement</elementReference>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <description>Update the Opportunity record using the values that we set earlier</description>
        <name>Update_Opportunity</name>
        <label>Update Opportunity</label>
        <locationX>3267</locationX>
        <locationY>4472</locationY>
        <connector>
            <targetReference>Success_Toast</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputReference>v_OpportunityRecord</inputReference>
    </recordUpdates>
    <screens>
        <name>AddSupportingInformation</name>
        <label>Add Supporting Information</label>
        <locationX>3267</locationX>
        <locationY>1574</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <backButtonLabel>Back</backButtonLabel>
        <connector>
            <targetReference>Opp_Type_Closed_Reason_Validation</targetReference>
        </connector>
        <fields>
            <name>Closed_Reason_Validation_Error_Message</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;The selected Closed Reason is not allowed for {!v_OpportunityRecord.Type} Opportunities. Please select a different Closed Reason and try again.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>v_Show_Closed_Reason_Validation_Error</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>AddSupportingInformation_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>AddSupportingInformation_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Opportunity_Sub_Stage</name>
                    <choiceReferences>c_5_1_OCS_Withdrawn</choiceReferences>
                    <choiceReferences>c_5_2_Customer_Withdrawn</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>vIn_Opportunity_Sub_Stage</elementReference>
                    </defaultValue>
                    <fieldText>Opportunity Sub Stage</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>ResetValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                </fields>
                <fields>
                    <name>Closed_Reason_OCS_Withdrawn</name>
                    <choiceReferences>Benchmarking</choiceReferences>
                    <choiceReferences>capability</choiceReferences>
                    <choiceReferences>Duplicated</choiceReferences>
                    <choiceReferences>Risk_Financial</choiceReferences>
                    <choiceReferences>Timeline_Long</choiceReferences>
                    <choiceReferences>notInStrategy</choiceReferences>
                    <choiceReferences>Resource</choiceReferences>
                    <choiceReferences>Timeline_Short</choiceReferences>
                    <choiceReferences>Size</choiceReferences>
                    <choiceReferences>TermsAndConditions</choiceReferences>
                    <choiceReferences>TradeUnions</choiceReferences>
                    <choiceReferences>Price</choiceReferences>
                    <choiceReferences>Relationship</choiceReferences>
                    <choiceReferences>Risk_Reputation</choiceReferences>
                    <choiceReferences>Commitments</choiceReferences>
                    <choiceReferences>People</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Closed_Reason_OCS_Withdrawn</elementReference>
                    </defaultValue>
                    <fieldText>Closed Reason</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Opportunity_Sub_Stage</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <elementReference>c_5_1_OCS_Withdrawn</elementReference>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>Closed_Reason_Customer_Withdrawn</name>
                    <choiceReferences>customerWithdrawn_Reason</choiceReferences>
                    <choiceReferences>Postponed</choiceReferences>
                    <choiceReferences>Closure</choiceReferences>
                    <choiceReferences>Price</choiceReferences>
                    <choiceReferences>Moved_In_House</choiceReferences>
                    <choiceReferences>People</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Closed_Reason_Customer_Withdrawn</elementReference>
                    </defaultValue>
                    <fieldText>Closed Reason</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Opportunity_Sub_Stage</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <elementReference>c_5_2_Customer_Withdrawn</elementReference>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>vIn_Opportunity_Stage</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>c_5_Closed_Withdrawn</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>AddSupportingInformation_Section2</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>AddSupportingInformation_Section2_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>l_WinningCompetitor</name>
                    <extensionName>flowruntime:lookup</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>fieldApiName</name>
                        <value>
                            <stringValue>AccountId</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>objectApiName</name>
                        <value>
                            <stringValue>Opportunity</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Please select the winning competitor</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>maxValues</name>
                        <value>
                            <numberValue>1.0</numberValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>required</name>
                        <value>
                            <booleanValue>false</booleanValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                </fields>
                <fields>
                    <name>Closed_Reason_Lost</name>
                    <choiceReferences>Benchmarking</choiceReferences>
                    <choiceReferences>capability</choiceReferences>
                    <choiceReferences>ESG</choiceReferences>
                    <choiceReferences>Geography</choiceReferences>
                    <choiceReferences>Performance</choiceReferences>
                    <choiceReferences>MoveToGlobalDeal</choiceReferences>
                    <choiceReferences>Price</choiceReferences>
                    <choiceReferences>Quality</choiceReferences>
                    <choiceReferences>Relationship</choiceReferences>
                    <choiceReferences>Solution</choiceReferences>
                    <choiceReferences>TermsAndConditions</choiceReferences>
                    <choiceReferences>ThirdParty</choiceReferences>
                    <choiceReferences>RiskDiversity</choiceReferences>
                    <choiceReferences>Commitments</choiceReferences>
                    <choiceReferences>People</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Closed_Reason_Lost</elementReference>
                    </defaultValue>
                    <fieldText>Closed Reason</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>vIn_Opportunity_Stage</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>c_6_Closed_Lost</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>AddSupportingInformation_Section3</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>AddSupportingInformation_Section3_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Opportunity_Sub_Stage_Closed_Won</name>
                    <choiceReferences>c_7_1_Written_Confirmation</choiceReferences>
                    <choiceReferences>c_7_2_TCs_Signed</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>vIn_Opportunity_Sub_Stage</elementReference>
                    </defaultValue>
                    <fieldText>Opportunity Sub Stage</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>ResetValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                </fields>
                <fields>
                    <fieldType>ObjectProvided</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <objectFieldReference>v_OpportunityRecord.AccountId</objectFieldReference>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>v_OpportunityRecord.AccountId</leftValueReference>
                            <operator>IsNull</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <fieldType>ObjectProvided</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <objectFieldReference>v_OpportunityRecord.Primary_Contact__c</objectFieldReference>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                </fields>
                <fields>
                    <name>Closed_Reason_Closed_Won</name>
                    <choiceReferences>capability</choiceReferences>
                    <choiceReferences>Commitments</choiceReferences>
                    <choiceReferences>ESG</choiceReferences>
                    <choiceReferences>Performance</choiceReferences>
                    <choiceReferences>People</choiceReferences>
                    <choiceReferences>Price</choiceReferences>
                    <choiceReferences>Quality</choiceReferences>
                    <choiceReferences>Relationship</choiceReferences>
                    <choiceReferences>TermsAndConditions</choiceReferences>
                    <choiceReferences>Solution</choiceReferences>
                    <choiceReferences>Technology</choiceReferences>
                    <dataType>String</dataType>
                    <defaultValue>
                        <elementReference>Closed_Reason_Closed_Won</elementReference>
                    </defaultValue>
                    <fieldText>Closed Reason</fieldText>
                    <fieldType>DropdownBox</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>vIn_Opportunity_Stage</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>c_7_Closed_Won</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Further_Reasons</name>
            <defaultValue>
                <stringValue>{!Further_Reasons}</stringValue>
            </defaultValue>
            <fieldText>Further Details</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <visibilityRule>
                <conditionLogic>or</conditionLogic>
                <conditions>
                    <leftValueReference>Closed_Reason_Closed_Won</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Closed_Reason_Customer_Withdrawn</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Closed_Reason_Lost</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Closed_Reason_OCS_Withdrawn</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <nextOrFinishButtonLabel>Continue</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Choose_Award_Date_Screen</name>
        <label>Choose Award Date</label>
        <locationX>3135</locationX>
        <locationY>2348</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <backButtonLabel>Back</backButtonLabel>
        <connector>
            <targetReference>Set_Award_Date</targetReference>
        </connector>
        <fields>
            <name>AwardDatePast_DT1</name>
            <fieldText>&lt;p&gt;The Award Date for this Opportunity is in the past. Please ensure this is correct before you continue.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Start Date: &lt;/strong&gt;{!v_OpportunityRecord.Contract_Start_Date__c}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;End Date: &lt;/strong&gt;{!v_OpportunityRecord.Contract_End_Date__c}&lt;span class=&quot;ql-cursor&quot;&gt;&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>User_Award_Date</name>
            <dataType>Date</dataType>
            <defaultValue>
                <elementReference>v_OpportunityRecord.CloseDate</elementReference>
            </defaultValue>
            <fieldText>Award Date</fieldText>
            <fieldType>InputField</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <validationRule>
                <errorMessage>&lt;p&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;The Award Date must not be in the future.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;For New Customer/Cross-Sell/Upsell Opportunities the Award Date must be before the Contract Start Date ({!v_OpportunityRecord.Contract_Start_Date__c}).&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;For Rebid/Extension Opportunities the Award Date can be after the Contract Start Date so long as it&apos;s not in the future.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;If you need to select an Award Date that does not meet these criteria then please contact your Local Administrator once the Opportunity has been closed.&lt;/span&gt;&lt;/p&gt;</errorMessage>
                <formulaExpression>IF(
NOT(ISPICKVAL({!v_OpportunityRecord.Type}, &apos;Rebid&apos;)) &amp;&amp; NOT(ISPICKVAL({!v_OpportunityRecord.Type}, &apos;Extension&apos;)),
{!User_Award_Date} &lt;= {!v_OpportunityRecord.Contract_Start_Date__c} &amp;&amp;
{!User_Award_Date} &lt;= {!$Flow.CurrentDate},

{!User_Award_Date} &lt;= {!$Flow.CurrentDate}
)</formulaExpression>
            </validationRule>
        </fields>
        <nextOrFinishButtonLabel>Continue</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Close_Opportunity</name>
        <label>Close Opportunity</label>
        <locationX>2805</locationX>
        <locationY>1082</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <backButtonLabel>Back</backButtonLabel>
        <connector>
            <targetReference>Opportunity_Status_Chosen</targetReference>
        </connector>
        <fields>
            <name>Opportunity_Stage_Won_Lost_Withdrawn</name>
            <choiceReferences>c_6_Closed_Lost</choiceReferences>
            <choiceReferences>c_5_Closed_Withdrawn</choiceReferences>
            <choiceReferences>c_7_Closed_Won</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Opportunity Stage</fieldText>
            <fieldType>DropdownBox</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>f_showClosedWonPicklist</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Opportunity_Status_Lost_Withdrawn</name>
            <choiceReferences>c_5_Closed_Withdrawn</choiceReferences>
            <choiceReferences>c_6_Closed_Lost</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Opportunity Stage</fieldText>
            <fieldType>DropdownBox</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>f_showClosedLostPicklist</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>f_showClosedWonPicklist</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Opportunity_Status_Withdrawn</name>
            <choiceReferences>c_5_Closed_Withdrawn</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Opportunity Stage</fieldText>
            <fieldType>DropdownBox</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>f_showClosedLostPicklist</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>f_showClosedWonPicklist</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <nextOrFinishButtonLabel>Next</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Contract_Not_Created_Message</name>
        <label>Contract Not Created Message</label>
        <locationX>3482</locationX>
        <locationY>6092</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Open_Contract</targetReference>
        </connector>
        <fields>
            <name>ContractNotUpdatedMessage_DT</name>
            <fieldText>&lt;p&gt;The Opportunity has been successfully closed. Because this was a &lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255);&quot;&gt;{!v_OpportunityRecord.Type} &lt;/span&gt;Opportunity no changes have been made to Contract {!v_OpportunityRecord.Contract__r.Name} to reflect the change in Services.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Please go to Contract &lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;{!v_OpportunityRecord.Contract__r.Name} &lt;/span&gt; &lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255);&quot;&gt;for this Account, &lt;/span&gt;add a Contract Variation and then either&lt;span style=&quot;font-family: var(--lwc-fontFamily,-apple-system, BlinkMacSystemFont, &apos;Segoe UI&apos;, Roboto, Helvetica, Arial, sans-serif, &apos;Apple Color Emoji&apos;, &apos;Segoe UI Emoji&apos;, &apos;Segoe UI Symbol&apos;); font-size: var(--lwc-fontSize3,0.8125rem); color: var(--slds-g-color-neutral-base-30, var(--lwc-colorTextWeak,rgb(68, 68, 68))); background-color: var(--slds-g-color-neutral-base-100, var(--lwc-colorBackgroundInput,rgb(255, 255, 255)));&quot;&gt;:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;Update an existing Line Item to reflect the changes.&lt;/li&gt;&lt;li&gt;Add a new Contract Line Item (if this Opportunity did not relate to an existing service)&lt;/li&gt;&lt;/ol&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <nextOrFinishButtonLabel>Open Contract</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Error_Screen</name>
        <label>Error Screen</label>
        <locationX>1106</locationX>
        <locationY>9104</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ErrorScreen_Message</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;We encountered an error.&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Please review the error message below. If it relates to an issue with data that you are able to correct (such as changing a date or a stage) then please do so and try again.&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 14px; color: rgb(255, 0, 0);&quot;&gt;{!$Flow.FaultMessage}&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 14px; color: rgb(68, 68, 68); background-color: rgb(255, 255, 255);&quot;&gt;If you are not able to resolve the above error yourself then please raise a Salesforce Support Ticket via ServiceNow (Report a Problem -&amp;gt; Business Applications -&amp;gt; Salesforce)&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Link_to_Contract_Screen</name>
        <label>Link to Contract Screen</label>
        <locationX>2090</locationX>
        <locationY>3596</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <backButtonLabel>Back</backButtonLabel>
        <connector>
            <targetReference>Link_Contract</targetReference>
        </connector>
        <fields>
            <name>Link_to_Contract_DT</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Contract Selection&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;This Opportunity is not currently linked to an existing Contract but active Contracts were found for {!v_OpportunityRecord.Account_Name_Formula__c}.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>Contract_Link_Toggle</name>
            <extensionName>flowruntime:toggle</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Do you want to link this Opportunity one of these Contracts?</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>messageToggleActive</name>
                <value>
                    <stringValue>Yes</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>messageToggleInactive</name>
                <value>
                    <stringValue>No</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>value</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>Contract_Selection_Table</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>Contract__c</typeValue>
            </dataTypeMappings>
            <extensionName>flowruntime:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Select a Contract</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectionMode</name>
                <value>
                    <stringValue>SINGLE_SELECT</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>minRowSelection</name>
                <value>
                    <numberValue>1.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>shouldDisplayLabel</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>Get_Open_Contracts</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isShowSearchBar</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>maxRowSelection</name>
                <value>
                    <numberValue>1.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columns</name>
                <value>
                    <stringValue>[{&quot;apiName&quot;:&quot;Name&quot;,&quot;guid&quot;:&quot;column-90b0&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;Reference&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:0,&quot;label&quot;:&quot;Contract No&quot;,&quot;type&quot;:&quot;text&quot;},{&quot;apiName&quot;:&quot;Owner_Full_Name__c&quot;,&quot;guid&quot;:&quot;column-f26e&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:true,&quot;customHeaderLabel&quot;:&quot;Owner&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:1,&quot;label&quot;:&quot;Owner Full Name&quot;,&quot;type&quot;:&quot;customRichText&quot;},{&quot;apiName&quot;:&quot;Contract_Start_Date__c&quot;,&quot;guid&quot;:&quot;column-71b0&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:2,&quot;label&quot;:&quot;Contract Start Date&quot;,&quot;type&quot;:&quot;date-local&quot;},{&quot;apiName&quot;:&quot;Contract_End_Date__c&quot;,&quot;guid&quot;:&quot;column-8028&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:3,&quot;label&quot;:&quot;Contract End Date&quot;,&quot;type&quot;:&quot;date-local&quot;},{&quot;apiName&quot;:&quot;Actual_Annual_Revenue__c&quot;,&quot;guid&quot;:&quot;column-ed41&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:true,&quot;customHeaderLabel&quot;:&quot;Annual Revenue&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:4,&quot;label&quot;:&quot;Actual Annual Revenue&quot;,&quot;type&quot;:&quot;currency&quot;},{&quot;apiName&quot;:&quot;Contracted_Services__c&quot;,&quot;guid&quot;:&quot;column-0d73&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:true,&quot;customHeaderLabel&quot;:&quot;Service Summary&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:5,&quot;label&quot;:&quot;Contracted Services&quot;,&quot;type&quot;:&quot;text&quot;}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Contract_Link_Toggle.value</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Contract_Not_Available_Message_DT</name>
            <fieldText>&lt;p&gt;If this Opportunity does not relate to one of the above Contracts then change the slider to No and continue.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Contract_Link_Toggle.value</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Do_Not_Link_Contract_Warning_Message_Contractual_DT</name>
            <fieldText>&lt;p&gt;You have selected not to link this Opportunity to an existing Contract. Because of this when the Opportunity reaches Sub Stage 7.2 T&amp;amp;Cs Signed a new Contract will be created.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Contract_Link_Toggle.value</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>v_OpportunityRecord.Annual_Contractual_Revenue__c</leftValueReference>
                    <operator>GreaterThan</operator>
                    <rightValue>
                        <numberValue>0.0</numberValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <nextOrFinishButtonLabel>Continue</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>New_Future_Opportunity</name>
        <label>New Future Opportunity</label>
        <locationX>1733</locationX>
        <locationY>5660</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Create_new_Future_Opportunity</targetReference>
        </connector>
        <fields>
            <name>ClosureConfirmation</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;Thanks {!$User.FirstName}, this opportunity has now been closed. Please confirm below if you would like to create a new Future Opportunity.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>New_Future_Opportunity_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>New_Future_Opportunity_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>futureOpportunityConfirmation</name>
                    <extensionName>flowruntime:toggle</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Create new Future Opportunity?</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>messageToggleActive</name>
                        <value>
                            <stringValue>Yes</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>messageToggleInactive</name>
                        <value>
                            <stringValue>No</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>New_Future_Opportunity_Section1_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Award_Date_Future</name>
                    <dataType>Date</dataType>
                    <defaultValue>
                        <elementReference>f_newAwardDate</elementReference>
                    </defaultValue>
                    <fieldText>Award Date</fieldText>
                    <fieldType>InputField</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                    <validationRule>
                        <errorMessage>&lt;p&gt;The new award date must be greater than today and less than the Contract Start Date.&lt;/p&gt;</errorMessage>
                        <formulaExpression>{!Award_Date_Future} &gt; {!$Flow.CurrentDate} &amp;&amp; {!Award_Date_Future} &lt; {!f_newStartDate}</formulaExpression>
                    </validationRule>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>futureOpportunityConfirmation.value</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>DisplayDates</name>
                    <fieldText>&lt;p&gt;New Contract Start Date : {!f_newStartDate}&lt;/p&gt;&lt;p&gt;New Contract End Date: {!f_newEndDate}&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>futureOpportunityConfirmation.value</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <nextOrFinishButtonLabel>Continue</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>sFuture_Opportunity_Created</name>
        <label>Future Opportunity Created</label>
        <locationX>512</locationX>
        <locationY>8996</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Navigate_to_New_Future_Opportunity</targetReference>
        </connector>
        <fields>
            <name>hFuture_Opportunity_Created</name>
            <fieldText>&lt;p&gt;Thanks {!$User.FirstName}&lt;/p&gt;&lt;p&gt;A new Future Opportunity has been created.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Name:&lt;/strong&gt; {!Get_New_Future_Opportunity.Name}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Award Date: &lt;/strong&gt;{!Get_New_Future_Opportunity.CloseDate}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <nextOrFinishButtonLabel>Open Future Opportunity</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Submitted_Date_Screen</name>
        <label>Submitted Date Screen</label>
        <locationX>3135</locationX>
        <locationY>2756</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <backButtonLabel>Back</backButtonLabel>
        <connector>
            <targetReference>Set_Solution_Submitted_Date</targetReference>
        </connector>
        <fields>
            <name>Populate_Submitted_Date_Message</name>
            <fieldText>&lt;p&gt;Before this Opportunity can be set to {!vIn_Opportunity_Stage} you must set the Solution Submitted Date.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;This is the date the quote/solution was submitted to the customer.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>Date_Solution_Submitted</name>
            <dataType>Date</dataType>
            <defaultValue>
                <elementReference>v_OpportunityRecord.RFP_Submitted_Date__c</elementReference>
            </defaultValue>
            <fieldText>Solution Submitted Date</fieldText>
            <fieldType>InputField</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <validationRule>
                <errorMessage>&lt;p&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;Submitted Date must be on or before Award Date &lt;/span&gt;&lt;span style=&quot;color: rgb(255, 0, 0); background-color: rgb(255, 255, 255);&quot;&gt;({!v_OpportunityRecord.CloseDate})&lt;/span&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt; and also cannot be in the future.&lt;/span&gt;&lt;/p&gt;</errorMessage>
                <formulaExpression>{!Date_Solution_Submitted} &lt;= {!$Flow.CurrentDate}
&amp;&amp;
{!Date_Solution_Submitted} &lt;= {!v_OpportunityRecord.CloseDate}</formulaExpression>
            </validationRule>
        </fields>
        <nextOrFinishButtonLabel>Continue</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>3141</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Evaluate_Object_Type</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Capture_Contract_Terms</name>
        <label>Capture Contract Terms</label>
        <locationX>1936</locationX>
        <locationY>4088</locationY>
        <connector>
            <targetReference>Set_Generic_Information</targetReference>
        </connector>
        <flowName>Contract_Terms_Capture_Contract_Terms_Subflow</flowName>
        <inputAssignments>
            <name>v_OppRecord</name>
            <value>
                <elementReference>v_OpportunityRecord</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>v_OpportunityRecord</assignToReference>
            <name>v_OppRecord</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Check_Record_Access</name>
        <label>Check Opp Record Access</label>
        <locationX>3267</locationX>
        <locationY>758</locationY>
        <connector>
            <targetReference>Opportunity_Account_Data_Fix_Subflow</targetReference>
        </connector>
        <flowName>Utility_Check_Record_Access_Subflow</flowName>
        <inputAssignments>
            <name>vIn_Record_ID</name>
            <value>
                <elementReference>v_OpportunityRecord.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>vIn_Stop_If_No_Edit_Access</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>vIn_User_ID</name>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Log_Error</name>
        <label>Log Error</label>
        <locationX>1106</locationX>
        <locationY>8996</locationY>
        <connector>
            <targetReference>Error_Screen</targetReference>
        </connector>
        <flowName>Utility_Error_Log_Creation</flowName>
        <inputAssignments>
            <name>Level</name>
            <value>
                <stringValue>Error</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Messages</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>OriginName</name>
            <value>
                <stringValue>Close Opportunity</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>RecordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Type</name>
            <value>
                <stringValue>Flow</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Opportunity_Account_Data_Fix_Subflow</name>
        <label>Opportunity &amp; Account Data Fix Subflow</label>
        <locationX>3267</locationX>
        <locationY>866</locationY>
        <connector>
            <targetReference>Stage_Preset_Decision</targetReference>
        </connector>
        <flowName>Opportunity_Data_Fix_Subflow</flowName>
        <inputAssignments>
            <name>vInOut_Opportunity</name>
            <value>
                <elementReference>v_OpportunityRecord</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>v_OpportunityRecord</assignToReference>
            <name>vInOut_Opportunity</name>
        </outputAssignments>
    </subflows>
    <variables>
        <name>OpportunityId_From_Bid</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <value>
            <elementReference>Get_Opportunity_from_Bid.Id</elementReference>
        </value>
    </variables>
    <variables>
        <name>OpportunityId_From_Opportunity</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <value>
            <elementReference>Get_Opportunity.Id</elementReference>
        </value>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>v_BidRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Bid__c</objectType>
    </variables>
    <variables>
        <name>v_currentOppLine</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>v_newContactRoles</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OpportunityContactRole</objectType>
    </variables>
    <variables>
        <name>v_newFutureOpportunity</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>v_newIncumbents</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Account_Role__c</objectType>
    </variables>
    <variables>
        <name>v_newOppLines</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>v_objectType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_OpportunityRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>v_opportunityType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_OriginalOpportunity</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_RFIOutcome</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_RFP_Outcome</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_Show_Closed_Reason_Validation_Error</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>vIn_Opportunity_Stage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Input variable to hold the preset Sub Stage for pre-filling.</description>
        <name>vIn_Opportunity_Sub_Stage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
