<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Send_Key_Contact_Change_Notification</name>
        <label>Send Key Contact Change Notification</label>
        <locationX>1034</locationX>
        <locationY>971</locationY>
        <actionName>customNotificationAction</actionName>
        <actionType>customNotificationAction</actionType>
        <connector>
            <targetReference>Account_Owner_Changed</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>customNotifTypeId</name>
            <value>
                <elementReference>Get_Notification_Type.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recipientIds</name>
            <value>
                <elementReference>v_recipientIds</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>title</name>
            <value>
                <stringValue>Key Contact change on Account</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>body</name>
            <value>
                <stringValue>The key contact on this account has changed. Please review.</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>targetId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>customNotificationAction</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <apiVersion>59.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Add_owner_to_recipients</name>
        <label>Add owner to recipients</label>
        <locationX>1034</locationX>
        <locationY>863</locationY>
        <assignmentItems>
            <assignToReference>v_recipientIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>$Record.Owner.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Send_Key_Contact_Change_Notification</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Add the updated Opp record from the loop to a collection for later update.</description>
        <name>Add_to_Collection</name>
        <label>Add to Collection</label>
        <locationX>1122</locationX>
        <locationY>3791</locationY>
        <assignmentItems>
            <assignToReference>v_Update_Opportunity_Collection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_Open_Opps</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Open_Opps</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Existing_Exclude_From_D_B_Connect</name>
        <label>Assign Existing - Exclude From D&amp;B Connect</label>
        <locationX>567</locationX>
        <locationY>7007</locationY>
        <assignmentItems>
            <assignToReference>v_enrich_account</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.dnb_exclude_company__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Excluded_From_DnB</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Disabled_Enrichment_No_Opps_Former_or_Prospect</name>
        <label>Disabled Enrichment - No Opps - Former or Prospect</label>
        <locationX>1106</locationX>
        <locationY>7439</locationY>
        <assignmentItems>
            <assignToReference>v_enrich_account</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Account_Enrichment</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Enrich_Active_Opps</name>
        <label>Enrich Active Opps</label>
        <locationX>50</locationX>
        <locationY>7331</locationY>
        <assignmentItems>
            <assignToReference>v_enrich_account</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Account_Enrichment</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Enrich_Existing_Customer</name>
        <label>Enrich Existing Customer</label>
        <locationX>314</locationX>
        <locationY>7439</locationY>
        <assignmentItems>
            <assignToReference>v_enrich_account</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Account_Enrichment</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Add 1 to the current counter of LF Website Visits on each Open Opp.</description>
        <name>Increment_LF_Website_Visit</name>
        <label>Increment LF Website Visit</label>
        <locationX>1122</locationX>
        <locationY>3683</locationY>
        <assignmentItems>
            <assignToReference>Loop_Open_Opps.No_of_Lead_Forensics_Website_Visits__c</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_If_New</name>
        <label>Set If New</label>
        <locationX>1100</locationX>
        <locationY>431</locationY>
        <assignmentItems>
            <assignToReference>v_isNew</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>f_isNew</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_or_Update</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Sector_Sub_Sector</name>
        <label>Set Sector &amp; Sub Sector</label>
        <locationX>968</locationX>
        <locationY>5315</locationY>
        <assignmentItems>
            <assignToReference>$Record.OCS_Sector__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_SIC_Code_Record.OCS_Sector__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.OCS_Sub_Sector__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_SIC_Code_Record.OCS_Sub_Sector__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Account_Record_Update_Required_SIC_Decision</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Set SIC Code from linked D&amp;B Company Profile</description>
        <name>Set_SIC_Code_from_Comp_Profile</name>
        <label>Set SIC Code from Comp Profile</label>
        <locationX>1122</locationX>
        <locationY>4523</locationY>
        <assignmentItems>
            <assignToReference>$Record.Sic</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Get_SIC_Code_Record</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_SIC_Code_Lookup</name>
        <label>Set SIC Code Lookup</label>
        <locationX>968</locationX>
        <locationY>5015</locationY>
        <assignmentItems>
            <assignToReference>$Record.SIC_Code__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_SIC_Code_Record.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_to_Sector_Sub_Sector_Required</targetReference>
        </connector>
    </assignments>
    <decisions>
        <description>Has the Account Name or Known As changed? If so update the Name of all of the Account&apos;s Opportunities with the new name. Also update all Contracts.</description>
        <name>Account_Name_Short_Name_Changed</name>
        <label>Account Name/Short Name Changed?</label>
        <locationX>1430</locationX>
        <locationY>1559</locationY>
        <defaultConnector>
            <targetReference>Trigger_All_Opportunity_Renaming</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Continue</defaultConnectorLabel>
        <rules>
            <name>Yes_Update_Related_Records</name>
            <conditionLogic>1 OR (2 AND 3)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Known_As__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Name</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Known_As__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Full_Opportunity_Rename_Triggered</targetReference>
            </connector>
            <label>Yes - Update Names</label>
        </rules>
    </decisions>
    <decisions>
        <description>If Account Owner is changed then update the &apos;Account Owner&apos; field on all related Contracts</description>
        <name>Account_Owner_Changed</name>
        <label>Account Owner Changed?</label>
        <locationX>1430</locationX>
        <locationY>1211</locationY>
        <defaultConnector>
            <targetReference>Account_Name_Short_Name_Changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Owner_Changed_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Contracts</targetReference>
            </connector>
            <label>Yes - Owner Changed</label>
        </rules>
    </decisions>
    <decisions>
        <description>Did the SIC part of the flow require any updates to be updated on the record? Only update if changes are required.</description>
        <name>Account_Record_Update_Required_SIC_Decision</name>
        <label>Account Record Update Required (SIC)</label>
        <locationX>1100</locationX>
        <locationY>5507</locationY>
        <defaultConnector>
            <targetReference>isACompetitor</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Update_Account_Outcome</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Set_Sector_Sub_Sector</leftValueReference>
                <operator>WasVisited</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Set_SIC_Code_Lookup</leftValueReference>
                <operator>WasVisited</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Set_SIC_Code_from_Comp_Profile</leftValueReference>
                <operator>WasVisited</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Account_Record</targetReference>
            </connector>
            <label>Yes - Update Account</label>
        </rules>
    </decisions>
    <decisions>
        <description>Does the Account have a D&amp;B Company Profile already linked? If so, look to get the SIC Code from this.</description>
        <name>Company_Profile_Linked_Decision</name>
        <label>Company Profile Linked?</label>
        <locationX>1254</locationX>
        <locationY>4415</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Account_Record_Update_Required_SIC_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Continue</defaultConnectorLabel>
        <rules>
            <name>Yes_Company_Profile_Linked</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.DNBConnect__D_B_Connect_Company_Profile__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_SIC_Code_from_Comp_Profile</targetReference>
            </connector>
            <label>Yes - Company Profile Linked</label>
        </rules>
    </decisions>
    <decisions>
        <name>Create_or_Update</name>
        <label>Create or Update</label>
        <locationX>1100</locationX>
        <locationY>539</locationY>
        <defaultConnector>
            <targetReference>Key_Contact_Changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Update</defaultConnectorLabel>
        <rules>
            <name>Create</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_isNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SIC_Code_String_Decision</targetReference>
            </connector>
            <label>Create</label>
        </rules>
    </decisions>
    <decisions>
        <description>If Credit Score field Changed then add a record in the Financial Risk History Log.</description>
        <name>Credit_Score_Changed_Decision</name>
        <label>Credit Score Changed?</label>
        <locationX>1100</locationX>
        <locationY>6203</locationY>
        <defaultConnector>
            <targetReference>Updated_to_Do_Not_Contact</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Credit_Score_Changed_Outcome</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Credit_Score__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Latest_Credit_Score_Date__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Financial_Risk_History_Record</targetReference>
            </connector>
            <label>Yes - Credit Score Changed</label>
        </rules>
    </decisions>
    <decisions>
        <name>DUNS_No_Populated</name>
        <label>DUNS No Populated</label>
        <locationX>1100</locationX>
        <locationY>6899</locationY>
        <defaultConnectorLabel>No Duns No</defaultConnectorLabel>
        <rules>
            <name>With_DUNS_No</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.DUNS_No__c</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Assign_Existing_Exclude_From_D_B_Connect</targetReference>
            </connector>
            <label>With DUNS No</label>
        </rules>
    </decisions>
    <decisions>
        <name>Enriched_Active_Opps</name>
        <label>Enriched - Active Opps</label>
        <locationX>886</locationX>
        <locationY>7223</locationY>
        <defaultConnector>
            <targetReference>Enriched_Customer_Type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Opps</defaultConnectorLabel>
        <rules>
            <name>Enriched_With_Opps</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Count_of_Open_Active_Opps__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Account_Enrichment</targetReference>
            </connector>
            <label>Enriched - With Opps</label>
        </rules>
    </decisions>
    <decisions>
        <name>Enriched_Customer_Type</name>
        <label>Enriched - Customer Type</label>
        <locationX>1018</locationX>
        <locationY>7331</locationY>
        <defaultConnector>
            <targetReference>Disabled_Enrichment_No_Opps_Former_or_Prospect</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Prospect or Former</defaultConnectorLabel>
        <rules>
            <name>Enriched_Existing_Customer</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Customer_Type_f__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Existing</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Account_Enrichment</targetReference>
            </connector>
            <label>Enriched - Existing Customer</label>
        </rules>
    </decisions>
    <decisions>
        <description>If a full renaming of this Account&apos;s Contracts has been triggered by checking the &apos;System: Rename Contracts&apos; Field then skip updating only the Active Contract Names (even if Name/Known As changed).

Full Contract Renaming will take place later in the Flow.</description>
        <name>Full_Contract_Rename_Triggered</name>
        <label>Full Contract Rename Triggered?</label>
        <locationX>1122</locationX>
        <locationY>2015</locationY>
        <defaultConnector>
            <targetReference>Update_Contract_Names</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Update Contracts</defaultConnectorLabel>
        <rules>
            <name>Yes_Skip</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.System_Rename_Contracts__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Trigger_All_Opportunity_Renaming</targetReference>
            </connector>
            <label>Yes - Skip</label>
        </rules>
    </decisions>
    <decisions>
        <description>If a full renaming of this Account&apos;s Opportunities has been triggered by checking the &apos;System: Rename Opportunities&apos; Field then skip updating only the Open Opp Names (even if Name/Known As changed).

Full Opp Renaming will then take place below in the Flow.</description>
        <name>Full_Opportunity_Rename_Triggered</name>
        <label>Full Opportunity Rename Triggered?</label>
        <locationX>1122</locationX>
        <locationY>1667</locationY>
        <defaultConnector>
            <targetReference>Update_Opportunity_Names</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Update Open</defaultConnectorLabel>
        <rules>
            <name>Yes_Skip_Open_Opp_Renaming_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.System_Rename_Opportunities__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Full_Contract_Rename_Triggered</targetReference>
            </connector>
            <label>Yes - Skip</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Excluded_From_DnB</name>
        <label>Is Excluded From DnB</label>
        <locationX>567</locationX>
        <locationY>7115</locationY>
        <defaultConnector>
            <targetReference>Enriched_Active_Opps</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Enrichment Active</defaultConnectorLabel>
        <rules>
            <name>Enrichment_In_Active</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.dnb_exclude_company__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Not_Enriched_Has_Active_Opps</targetReference>
            </connector>
            <label>Enrichment In-Active</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Existing_Customer</name>
        <label>Is Existing Customer</label>
        <locationX>446</locationX>
        <locationY>7331</locationY>
        <defaultConnector>
            <targetReference>Update_Account_Enrichment</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Prospect or Former</defaultConnectorLabel>
        <rules>
            <name>Existing_Customer</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Customer_Type_f__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Existing</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Enrich_Existing_Customer</targetReference>
            </connector>
            <label>Existing Customer</label>
        </rules>
    </decisions>
    <decisions>
        <name>isACompetitor</name>
        <label>isACompetitor</label>
        <locationX>1100</locationX>
        <locationY>5855</locationY>
        <defaultConnector>
            <targetReference>Credit_Score_Changed_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>yesACompetitor</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Competitor__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.DUNS_No__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>updateSector_Subsector</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>yesACompetitor</label>
        </rules>
    </decisions>
    <decisions>
        <name>Key_Contact_Changed</name>
        <label>Key Contact Changed?</label>
        <locationX>1430</locationX>
        <locationY>647</locationY>
        <defaultConnector>
            <targetReference>Account_Owner_Changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Contact_Changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Key_Contact__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.Key_Contact__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Notification_Type</targetReference>
            </connector>
            <label>Contact Changed?</label>
        </rules>
    </decisions>
    <decisions>
        <description>If the Account has Open Opps and the # Website Visits is increased on the Account then increment the counter on each of the Opps to trigger a notification to be sent to the Opp Owners.</description>
        <name>Lead_Forensics_Website_Visit_Decision</name>
        <label>Lead Forensics Website Visit</label>
        <locationX>1430</locationX>
        <locationY>3359</locationY>
        <defaultConnector>
            <targetReference>SIC_Code_String_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Increment_LF_Visit_Counter</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Count_of_Active_Opps__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.No_of_Website_Visits__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>$Record__Prior.No_of_Website_Visits__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Open_Opps</targetReference>
            </connector>
            <label>Yes - Increment LF Visit Counter</label>
        </rules>
    </decisions>
    <decisions>
        <name>Not_Enriched_Has_Active_Opps</name>
        <label>Not Enriched - Has Active Opps</label>
        <locationX>248</locationX>
        <locationY>7223</locationY>
        <defaultConnector>
            <targetReference>Is_Existing_Customer</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Active Opps</defaultConnectorLabel>
        <rules>
            <name>Not_Enriched_With_Opps</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Count_of_Open_Active_Opps__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Enrich_Active_Opps</targetReference>
            </connector>
            <label>Not Enriched - With Opps</label>
        </rules>
    </decisions>
    <decisions>
        <description>If the field System: Rename Contracts field is ticked then trigger the Contract Before Create and Update flow to update the Contract Name. When done untick the field.</description>
        <name>Rename_all_Contracts</name>
        <label>Rename all Contracts?</label>
        <locationX>1430</locationX>
        <locationY>2903</locationY>
        <defaultConnector>
            <targetReference>Lead_Forensics_Website_Visit_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Rename_all_Contracts</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.System_Rename_Contracts__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Disable_System_Contract_Rename_Trigger</targetReference>
            </connector>
            <label>Yes - Rename all Contracts</label>
        </rules>
    </decisions>
    <decisions>
        <description>Is the SIC Code String populated with a value? If it is, is the SIC Lookup correct? If not check if DUNS is populated to see if SIC Code can be retrieved.</description>
        <name>SIC_Code_String_Decision</name>
        <label>SIC Code String Populated?</label>
        <locationX>1100</locationX>
        <locationY>4307</locationY>
        <defaultConnector>
            <targetReference>Company_Profile_Linked_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Not Populated</defaultConnectorLabel>
        <rules>
            <name>Yes_SIC_Code_String_Populated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Sic</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_SIC_Code_Record</targetReference>
            </connector>
            <label>Yes - Populated</label>
        </rules>
    </decisions>
    <decisions>
        <description>Does the SIC Code Lookup need updating? If so then update. If not then skip and continue to evaluating whether Sector/Sub Sector needs updating.</description>
        <name>SIC_Lookup_Update_Required_Decision</name>
        <label>SIC Lookup Update Required?</label>
        <locationX>1100</locationX>
        <locationY>4907</locationY>
        <defaultConnector>
            <targetReference>Update_to_Sector_Sub_Sector_Required</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Update_SIC_Lookup</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.SIC_Code__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Get_SIC_Code_Record.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_SIC_Code_Lookup</targetReference>
            </connector>
            <label>Yes - Update SIC Lookup</label>
        </rules>
    </decisions>
    <decisions>
        <description>If the field System: Rename Opportunities field is ticked then trigger the Opportunity Before Create and Update flow to update the Opportunity Name. When done untick the field.</description>
        <name>Trigger_All_Opportunity_Renaming</name>
        <label>Rename all Opportunities?</label>
        <locationX>1430</locationX>
        <locationY>2447</locationY>
        <defaultConnector>
            <targetReference>Rename_all_Contracts</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Rename_All_Opps</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.System_Rename_Opportunities__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Disable_System_Opp_Rename_Trigger</targetReference>
            </connector>
            <label>Yes - Rename All Opps</label>
        </rules>
    </decisions>
    <decisions>
        <description>Where SIC Code is populated but Sector/Sub Sector is not, update the Sector and Sub Sector on Account</description>
        <name>Update_to_Sector_Sub_Sector_Required</name>
        <label>Update to Sector/Sub Sector Required?</label>
        <locationX>1100</locationX>
        <locationY>5207</locationY>
        <defaultConnector>
            <targetReference>Account_Record_Update_Required_SIC_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip Update</defaultConnectorLabel>
        <rules>
            <name>Yes_Update_Sector_Sub_Sector</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.SIC_Code__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.OCS_Sector__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.OCS_Sub_Sector__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Sector_Sub_Sector</targetReference>
            </connector>
            <label>Yes - Update Sector &amp; Sub Sector</label>
        </rules>
    </decisions>
    <decisions>
        <description>If the Account was set to Do Not Contact then update the Account&apos;s Contacts to opt them out of all Email and Phone Contact.</description>
        <name>Updated_to_Do_Not_Contact</name>
        <label>Updated to Do Not Contact?</label>
        <locationX>1100</locationX>
        <locationY>6551</locationY>
        <defaultConnector>
            <targetReference>DUNS_No_Populated</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Update_Contacts_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Do_Not_Contact__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Do_Not_Contact__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Contacts_to_Do_Not_Contact</targetReference>
            </connector>
            <label>Yes - Update Contacts</label>
        </rules>
    </decisions>
    <decisions>
        <name>Validate_Config_Switch</name>
        <label>Validate Config Switch</label>
        <locationX>1683</locationX>
        <locationY>323</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Automation_Enabled</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Setup.OCS_Config_Settings_CSH__c.Flows_Disabled__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Setup.OCS_Config_Settings_CSH__c.Migration_Flows_Enabled__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_If_New</targetReference>
            </connector>
            <label>Automation Enabled</label>
        </rules>
    </decisions>
    <description>AD-357 - Create Account After Save Flow
Including Account Enrichment Activation/De-activation</description>
    <environments>Default</environments>
    <formulas>
        <name>f_isNew</name>
        <dataType>Boolean</dataType>
        <expression>ISNEW()</expression>
    </formulas>
    <interviewLabel>Account: After Create and Update {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Account: After Create and Update</label>
    <loops>
        <name>Loop_Open_Opps</name>
        <label>Loop Open Opps</label>
        <locationX>1034</locationX>
        <locationY>3575</locationY>
        <collectionReference>Get_Open_Opps</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Increment_LF_Website_Visit</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_Opportunities</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <description>When Credit Score is changed add a record into the Financial Risk History Log</description>
        <name>Create_Financial_Risk_History_Record</name>
        <label>Create Financial Risk History Record</label>
        <locationX>836</locationX>
        <locationY>6311</locationY>
        <connector>
            <targetReference>Updated_to_Do_Not_Contact</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Account__c</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CurrencyIsoCode</field>
            <value>
                <elementReference>$Record.CurrencyIsoCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source__c</field>
            <value>
                <stringValue>User Input on Account</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>System_New_Value_Input__c</field>
            <value>
                <elementReference>$Record.Credit_Score__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>System_Numerical_Indicator__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>System_Old_Value_Input__c</field>
            <value>
                <elementReference>$Record__Prior.Credit_Score__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type__c</field>
            <value>
                <stringValue>Credit Score</stringValue>
            </value>
        </inputAssignments>
        <object>Financial_Risk_History__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>Get_Notification_Type</name>
        <label>Get Notification Type</label>
        <locationX>1034</locationX>
        <locationY>755</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Add_owner_to_recipients</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>MasterLabel</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Sales Notifications</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>CustomNotificationType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Open_Opps</name>
        <label>Get Open Opps</label>
        <locationX>1034</locationX>
        <locationY>3467</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Open_Opps</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>IsClosed</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Sub_Stage__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>2.1 Future Opportunity</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Get SIC Code record that relates to the SIC Code string.</description>
        <name>Get_SIC_Code_Record</name>
        <label>Get SIC Code Record</label>
        <locationX>1100</locationX>
        <locationY>4799</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>SIC_Lookup_Update_Required_Decision</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Sic</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>SIC_Code__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <description>Uncheck the &apos;System: Rename Contracts&apos; field on Account.</description>
        <name>Disable_System_Contract_Rename_Trigger</name>
        <label>Disable System Contract Rename Trigger</label>
        <locationX>1034</locationX>
        <locationY>3011</locationY>
        <connector>
            <targetReference>Update_All_Contract_Names</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>System_Rename_Contracts__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>Uncheck the System: Rename Opportunities field on Account.</description>
        <name>Disable_System_Opp_Rename_Trigger</name>
        <label>Disable System Opp Rename Trigger</label>
        <locationX>1034</locationX>
        <locationY>2555</locationY>
        <connector>
            <targetReference>Update_All_Opportunity_Names</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>System_Rename_Opportunities__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>Update the Do Not Call and Email Opt Out fields on the Account&apos;s Contacts to avoid contact being made.</description>
        <name>Set_Contacts_to_Do_Not_Contact</name>
        <label>Set Contacts to Do Not Contact</label>
        <locationX>836</locationX>
        <locationY>6659</locationY>
        <connector>
            <targetReference>DUNS_No_Populated</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>DoNotCall</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>HasOptedOutOfEmail</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>Contact</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Account_Enrichment</name>
        <label>Update Account - Enrichment</label>
        <locationX>567</locationX>
        <locationY>7799</locationY>
        <faultConnector>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>dnb_exclude_company__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>v_enrich_account</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>dnb_exclude_company__c</field>
            <value>
                <elementReference>v_enrich_account</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>Set SIC Code (String and/or Lookup), Sector and Sub Sector fields on Account record.</description>
        <name>Update_Account_Record</name>
        <label>Update Account Record (SIC)</label>
        <locationX>836</locationX>
        <locationY>5615</locationY>
        <connector>
            <targetReference>isACompetitor</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>Trigger a simple update of the Contract Name. This will trigger the Contract Before Create Update flow which will handle updating the name correctly.</description>
        <name>Update_All_Contract_Names</name>
        <label>Update All Contract Names</label>
        <locationX>1034</locationX>
        <locationY>3119</locationY>
        <connector>
            <targetReference>Lead_Forensics_Website_Visit_Decision</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Contract_Name__c</field>
            <value>
                <stringValue>System Automation: Update Contract Name</stringValue>
            </value>
        </inputAssignments>
        <object>Contract__c</object>
    </recordUpdates>
    <recordUpdates>
        <description>Trigger a simple update of the Opportunity Name. This will trigger the Opportunity Before Create Update flow which will handle updating the name correctly.</description>
        <name>Update_All_Opportunity_Names</name>
        <label>Update All Opportunity Names</label>
        <locationX>1034</locationX>
        <locationY>2663</locationY>
        <connector>
            <targetReference>Rename_all_Contracts</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Name</field>
            <value>
                <stringValue>System Automation: Update Opportunity Name</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <description>By writing any value into the Contract Name field the Contract_Before_Create_Update will be triggered which will update the Contract Name with the correct value.</description>
        <name>Update_Contract_Names</name>
        <label>Update Contract Names</label>
        <locationX>1210</locationX>
        <locationY>2123</locationY>
        <connector>
            <targetReference>Trigger_All_Opportunity_Renaming</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Contract_Name__c</field>
            <value>
                <stringValue>System Automation: Update Contract Name</stringValue>
            </value>
        </inputAssignments>
        <object>Contract__c</object>
    </recordUpdates>
    <recordUpdates>
        <description>Set Account Owner on Contracts</description>
        <name>Update_Contracts</name>
        <label>Update Contracts</label>
        <locationX>1166</locationX>
        <locationY>1319</locationY>
        <connector>
            <targetReference>Account_Name_Short_Name_Changed</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Account_Owner__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Account_Owner__c</field>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </inputAssignments>
        <object>Contract__c</object>
    </recordUpdates>
    <recordUpdates>
        <description>Update the Lead Forensics Website Visit Counter on each Open Opportunity for this Account.</description>
        <name>Update_Opportunities</name>
        <label>Update Opportunities</label>
        <locationX>1034</locationX>
        <locationY>3983</locationY>
        <connector>
            <targetReference>SIC_Code_String_Decision</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputReference>v_Update_Opportunity_Collection</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>Trigger a simple update of the Opportunity Name. This will trigger the Opportunity Before Create Update flow which will handle updating the name correctly.</description>
        <name>Update_Opportunity_Names</name>
        <label>Update Opportunity Names</label>
        <locationX>1210</locationX>
        <locationY>1775</locationY>
        <connector>
            <targetReference>Full_Contract_Rename_Triggered</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Name</field>
            <value>
                <stringValue>System Automation: Update Opportunity Name</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>updateSector_Subsector</name>
        <label>updateSector&amp;Subsector</label>
        <locationX>836</locationX>
        <locationY>5963</locationY>
        <connector>
            <targetReference>Credit_Score_Changed_Decision</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>OCS_Sector__c</field>
            <value>
                <stringValue>Property Management &amp; FM Services</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OCS_Sub_Sector__c</field>
            <value>
                <stringValue></stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>1557</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Validate_Config_Switch</targetReference>
        </connector>
        <object>Account</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <subflows>
        <name>Log_Error</name>
        <label>Log Error</label>
        <locationX>1370</locationX>
        <locationY>7907</locationY>
        <flowName>Utility_Error_Log_Creation</flowName>
        <inputAssignments>
            <name>Level</name>
            <value>
                <stringValue>Error</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Messages</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>OriginName</name>
            <value>
                <stringValue>Account: After Create and Update</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>RecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Type</name>
            <value>
                <stringValue>Flow</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <variables>
        <name>v_enrich_account</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_isNew</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_recipientIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_Update_Opportunity_Collection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
</Flow>
