<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Bid_Support_Activated_Assignee_Notification</name>
        <label>Bid Support Activated - Assignee Notification</label>
        <locationX>3020</locationX>
        <locationY>1787</locationY>
        <actionName>Bid_Support__c.Bid_Support_Activated_Assignee</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>Start_Date_Changed_Client_Solutions_Notification</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Bid_Support__c.Bid_Support_Activated_Assignee</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Bid_Support_Assigned_Assignee_Notification</name>
        <label>Bid Support Assigned - Assignee Notification</label>
        <locationX>3284</locationX>
        <locationY>2879</locationY>
        <actionName>Bid_Support__c.Bid_Support_Assigned_Assignee</actionName>
        <actionType>emailAlert</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Bid_Support__c.Bid_Support_Assigned_Assignee</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Bid_Support_Closed_Assignee_Requestor_Notification</name>
        <label>Bid Support Closed - Assignee + Requestor Notification</label>
        <locationX>3284</locationX>
        <locationY>1787</locationY>
        <actionName>Bid_Support__c.Bid_Support_Closed_Assignee_Requestor</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>Start_Date_Changed_Client_Solutions_Notification</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Bid_Support__c.Bid_Support_Closed_Assignee_Requestor</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Bid_Support_Closed_due_to_Opportunity_Closure_HoB_Bid_Mgr_Owner_Notification</name>
        <label>Bid Support Closed due to Opportunity Closure - HoB, Bid Mgr, Owner Notification</label>
        <locationX>3548</locationX>
        <locationY>1787</locationY>
        <actionName>Bid_Support__c.Bid_Support_Closed_due_to_Opportunity_Closure</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>Start_Date_Changed_Client_Solutions_Notification</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Bid_Support__c.Bid_Support_Closed_due_to_Opportunity_Closure</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Bid_Support_Requested_Design</name>
        <label>Bid Support Requested - Design</label>
        <locationX>50</locationX>
        <locationY>1427</locationY>
        <actionName>Bid_Support__c.Bid_Support_Requested_Design</actionName>
        <actionType>emailAlert</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Bid_Support__c.Bid_Support_Requested_Design</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Bid_Support_Requested_Private_Sector</name>
        <label>Bid Support Requested - Private Sector</label>
        <locationX>578</locationX>
        <locationY>1427</locationY>
        <actionName>Bid_Support__c.Bid_Support_Requested_Private_Sector</actionName>
        <actionType>emailAlert</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Bid_Support__c.Bid_Support_Requested_Private_Sector</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Bid_Support_Requested_Public_Sector</name>
        <label>Bid Support Requested - Public Sector</label>
        <locationX>314</locationX>
        <locationY>1427</locationY>
        <actionName>Bid_Support__c.Bid_Support_Requested_Public_Sector</actionName>
        <actionType>emailAlert</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Bid_Support__c.Bid_Support_Requested_Public_Sector</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Start_Date_Changed_Notification_Owner</name>
        <label>Start Date Changed Notification - Owner</label>
        <locationX>3284</locationX>
        <locationY>2579</locationY>
        <actionName>Bid_Support__c.Bid_Support_Start_Date_Changed_Owner</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>Assignee_Updated_Decision</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Bid_Support__c.Bid_Support_Start_Date_Changed_Owner</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Start_Date_Changed_Notification_Private_Sector</name>
        <label>Start Date Changed Notification - Private Sector</label>
        <locationX>3086</locationX>
        <locationY>2195</locationY>
        <actionName>Bid_Support__c.Bid_Support_Start_Date_Changed_Private_Sector</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>Start_Date_Changed_Owner_Notification</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Bid_Support__c.Bid_Support_Start_Date_Changed_Private_Sector</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Start_Date_Changed_Notification_Public_Sector</name>
        <label>Start Date Changed Notification - Public Sector</label>
        <locationX>3350</locationX>
        <locationY>2195</locationY>
        <actionName>Bid_Support__c.Bid_Support_Start_Date_Changed_Public_Sector</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>Start_Date_Changed_Owner_Notification</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Bid_Support__c.Bid_Support_Start_Date_Changed_Public_Sector</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Submit_for_Seller_Approval</name>
        <label>Submit for Seller Approval</label>
        <locationX>2646</locationX>
        <locationY>971</locationY>
        <actionName>submit</actionName>
        <actionType>submit</actionType>
        <connector>
            <targetReference>Child_BSR_Records</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>objectId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>comment</name>
            <value>
                <stringValue>Your approval to close these Bid Support records is requested.</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>submitterId</name>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>submit</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <apiVersion>59.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Set_is_New</name>
        <label>Set is New</label>
        <locationX>1931</locationX>
        <locationY>431</locationY>
        <assignmentItems>
            <assignToReference>v_isNew</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>f_isNew</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Bid_Support_Update_Key_Info_from_Opportunity_Subflow_Update</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Assignee_Updated_Decision</name>
        <label>Assignee Updated?</label>
        <locationX>3416</locationX>
        <locationY>2771</locationY>
        <defaultConnectorLabel>No - Continue</defaultConnectorLabel>
        <rules>
            <name>Yes_Assignee_Changed_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>005</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Bid_Support_Assigned_Assignee_Notification</targetReference>
            </connector>
            <label>Yes - Assignee Changed</label>
        </rules>
    </decisions>
    <decisions>
        <description>Which Bid Team should be notified?</description>
        <name>Bid_Team_Decision_Start_Date_Change_Notification</name>
        <label>Bid Team Decision</label>
        <locationX>3218</locationX>
        <locationY>2087</locationY>
        <defaultConnector>
            <targetReference>Start_Date_Changed_Notification_Public_Sector</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Public Sector</defaultConnectorLabel>
        <rules>
            <name>Private_Sector_Start_Date_Changed_Notification_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Bid_Team__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Private</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Start_Date_Changed_Notification_Private_Sector</targetReference>
            </connector>
            <label>Private Sector</label>
        </rules>
    </decisions>
    <decisions>
        <description>Does the Bid Management BSR have child BSRs? If so then when the parent record is updated to Review also update all of the child records to Review too.</description>
        <name>Child_BSR_Records</name>
        <label>Child BSR Records?</label>
        <locationX>2646</locationX>
        <locationY>1079</locationY>
        <defaultConnector>
            <targetReference>Status_Updated_Notification_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Review_Child_Records_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.No_of_Child_Bid_Supports__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Review_Child_Records</targetReference>
            </connector>
            <label>Yes - Review Child Records</label>
        </rules>
    </decisions>
    <decisions>
        <description>Does the Bid Management BSR have child BSRs? If so then when the parent record is closed also update all of the remaining children records.</description>
        <name>Child_BSR_Records_Closed_Decision</name>
        <label>Child BSR Records? (Closed)</label>
        <locationX>1942</locationX>
        <locationY>971</locationY>
        <defaultConnector>
            <targetReference>Status_Updated_Notification_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Close_Child_Records_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.No_of_Child_Bid_Supports__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Close_Child_BSR_Records</targetReference>
            </connector>
            <label>Yes - Close Child Records</label>
        </rules>
    </decisions>
    <decisions>
        <description>Does the Bid Management BSR have child BSRs? If so then when the parent record is updated from Review to Active also update all of the child records to Active too.</description>
        <name>Child_BSR_Records_Reset_Active_Decision</name>
        <label>Child BSR Records?</label>
        <locationX>3350</locationX>
        <locationY>971</locationY>
        <defaultConnector>
            <targetReference>Status_Updated_Notification_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Active_Child_Records_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.No_of_Child_Bid_Supports__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Child_Records_Active</targetReference>
            </connector>
            <label>Yes - Active Child Records</label>
        </rules>
    </decisions>
    <decisions>
        <name>Create_or_Update</name>
        <label>Create or Update?</label>
        <locationX>1931</locationX>
        <locationY>647</locationY>
        <defaultConnector>
            <targetReference>Record_Type_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Update</defaultConnectorLabel>
        <rules>
            <name>Create</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_isNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Record_Type_Decision_Create</targetReference>
            </connector>
            <label>Create</label>
        </rules>
    </decisions>
    <decisions>
        <description>Send email notification to Client Solutions central mailboxes</description>
        <name>Created_Notification_Decision</name>
        <label>Created Notification Decision</label>
        <locationX>446</locationX>
        <locationY>1319</locationY>
        <defaultConnectorLabel>Other - Skip</defaultConnectorLabel>
        <rules>
            <name>Design</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Design</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Bid_Support_Requested_Design</targetReference>
            </connector>
            <label>Design</label>
        </rules>
        <rules>
            <name>Public_Sector_Notification_Outcome</name>
            <conditionLogic>(1 AND 2) OR 3</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Head_of_Bid__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Head_of_Bid__r.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Bid_Team__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Public</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Bid_Support_Requested_Public_Sector</targetReference>
            </connector>
            <label>Public Sector Notification</label>
        </rules>
        <rules>
            <name>Private_Sector_Notification_Outcome</name>
            <conditionLogic>(1 AND 2) OR 3</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Head_of_Bid__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Head_of_Bid__r.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Bid_Team__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Private</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Bid_Support_Requested_Private_Sector</targetReference>
            </connector>
            <label>Private Sector Notification</label>
        </rules>
    </decisions>
    <decisions>
        <name>Record_Type_Decision</name>
        <label>Record Type Decision</label>
        <locationX>3416</locationX>
        <locationY>755</locationY>
        <defaultConnector>
            <targetReference>Status_Updated_Notification_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other</defaultConnectorLabel>
        <rules>
            <name>Bid_Management_Record_Type_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Bid_Management</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Status_Updated_Decision</targetReference>
            </connector>
            <label>Bid Management</label>
        </rules>
    </decisions>
    <decisions>
        <description>Which Record Type is the newly created BSR?
If any Record Type other than Bid Management then it must be parented to a Bid Management Record.
The Before Save flow will parent the child to the correct record if it exists. Therefore if this After Save flow runs and there is no Parent associated then a Parent Bid Management BSR record needs creating and associating.</description>
        <name>Record_Type_Decision_Create</name>
        <label>Record Type Decision (Create)</label>
        <locationX>446</locationX>
        <locationY>755</locationY>
        <defaultConnector>
            <targetReference>Get_Bid_Management_Record_Type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other - Create Parent</defaultConnectorLabel>
        <rules>
            <name>Bid_Management_Record_Type_Skip_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Bid_Management</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Created_Notification_Decision</targetReference>
            </connector>
            <label>Bid Management - Skip</label>
        </rules>
        <rules>
            <name>Already_Parented_Skip</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Parent_Bid_Support__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Created_Notification_Decision</targetReference>
            </connector>
            <label>Already Parented - Skip</label>
        </rules>
    </decisions>
    <decisions>
        <description>For Bid Management record type only
For Head of Bid/Client Solutions only.
Was the Phase Start Date changed and the Phase hasn&apos;t yet started (either current start date/prior start date in the future) ? If so then send email alert to Head of Bid (if active).</description>
        <name>Start_Date_Changed_Client_Solutions_Notification</name>
        <label>Start Date Changed Client Solutions Notification?</label>
        <locationX>3416</locationX>
        <locationY>1979</locationY>
        <defaultConnector>
            <targetReference>Start_Date_Changed_Owner_Notification</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Send_StartDate_Changed_CS_Notification_Outcome</name>
            <conditionLogic>1 AND (2 OR 3) AND 4 AND 5 AND 6</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Phase_Start_Date__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Phase_Start_Date__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>$Flow.CurrentDate</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.Phase_Start_Date__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>$Flow.CurrentDate</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Head_of_Bid__r.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Bid_Management</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Bid_Team_Decision_Start_Date_Change_Notification</targetReference>
            </connector>
            <label>Yes - Send Notification</label>
        </rules>
    </decisions>
    <decisions>
        <description>For Bid Management record type only. Where the Start Date has passed but the record is not closed then notify the Owner.</description>
        <name>Start_Date_Changed_Owner_Notification</name>
        <label>Start Date Changed - Owner Notification</label>
        <locationX>3416</locationX>
        <locationY>2471</locationY>
        <defaultConnector>
            <targetReference>Assignee_Updated_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Send_Start_Date_Changed_Owner_Notification_Outcome</name>
            <conditionLogic>1 AND 2 AND 3 AND (4 OR 5) AND 6</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Bid_Management</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Owner:User.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Phase_Start_Date__c</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <elementReference>$Flow.CurrentDate</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.Phase_Start_Date__c</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <elementReference>$Flow.CurrentDate</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Phase_Start_Date__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Start_Date_Changed_Notification_Owner</targetReference>
            </connector>
            <label>Yes - Send Notification</label>
        </rules>
    </decisions>
    <decisions>
        <description>If Bid Mgmt BSR is updated to Closed then check if record has Child BSRs associated to it. If so then also close all of these.
If Bid Mgmt BSR is updated to Review then submit record for Seller&apos;s Approval for closure.
If Bid Mgmt BSR is updated from Review to Active and Sales Lead Approval Status = Rejected/Recalled then update child records.</description>
        <name>Status_Updated_Decision</name>
        <label>Status Updated?</label>
        <locationX>2866</locationX>
        <locationY>863</locationY>
        <defaultConnector>
            <targetReference>Status_Updated_Notification_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Skip</defaultConnectorLabel>
        <rules>
            <name>Yes_Updated_to_Closed_Bid_Management_Closure_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Child_BSR_Records_Closed_Decision</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>Yes - Updated to Closed</label>
        </rules>
        <rules>
            <name>Yes_Updated_to_Review_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Review</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Submit_for_Seller_Approval</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>Yes - Updated to Review</label>
        </rules>
        <rules>
            <name>Yes_Review_Rejected_Back_to_Active_Outcome</name>
            <conditionLogic>1 AND 2 AND (3 OR 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Active</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Review</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Sales_Lead_Approval_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Rejected</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Sales_Lead_Approval_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Recalled</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Child_BSR_Records_Reset_Active_Decision</targetReference>
            </connector>
            <label>Yes - Review Rejected, Back to Active</label>
        </rules>
    </decisions>
    <decisions>
        <name>Status_Updated_Notification_Decision</name>
        <label>Status Change Notification?</label>
        <locationX>3416</locationX>
        <locationY>1679</locationY>
        <defaultConnector>
            <targetReference>Start_Date_Changed_Client_Solutions_Notification</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - Continue</defaultConnectorLabel>
        <rules>
            <name>Yes_Activated_Status_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Active</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>005</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Owner:User.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.Status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Review</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Bid_Support_Activated_Assignee_Notification</targetReference>
            </connector>
            <label>Yes - Activated</label>
        </rules>
        <rules>
            <name>Yes_Closed_Status_Outcome</name>
            <conditionLogic>1 AND (2 OR 3) AND (4 OR 5) AND 6</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CreatedBy.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Owner:User.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Closed_Reason__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cancelled</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Closed_Reason__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordType.DeveloperName</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Bid_Management</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Bid_Support_Closed_Assignee_Requestor_Notification</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>Yes - Closed (Not Opp)</label>
        </rules>
        <rules>
            <name>Yes_Closed_Status_from_Opp_Closure_Outcome</name>
            <conditionLogic>1 AND 2 AND (3 OR 4 OR 5)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Closed_Reason__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Opportunity</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Head_of_Bid__r.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Bid_Manager__r.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Owner:User.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Bid_Support_Closed_due_to_Opportunity_Closure_HoB_Bid_Mgr_Owner_Notification</targetReference>
            </connector>
            <label>Yes - Closed (Opp Closed)</label>
        </rules>
    </decisions>
    <decisions>
        <name>Validate_Config_Switch</name>
        <label>Validate Config Switch</label>
        <locationX>3036</locationX>
        <locationY>323</locationY>
        <defaultConnectorLabel>Disabled</defaultConnectorLabel>
        <rules>
            <name>Enabled</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Setup.OCS_Config_Settings_CSH__c.Flows_Disabled__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Setup.OCS_Config_Settings_CSH__c.Migration_Flows_Enabled__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_is_New</targetReference>
            </connector>
            <label>Enabled</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <formulas>
        <name>f_isNew</name>
        <dataType>Boolean</dataType>
        <expression>IF({!$Setup.OCS_Config_Settings_CSH__c.Migration_Flows_Enabled__c}, {!$Setup.OCS_Config_Settings_CSH__c.Migration_Flows_Enabled__c}, ISNEW())</expression>
    </formulas>
    <interviewLabel>Bid Support: After Create and Update {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Bid Support: After Create and Update</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <description>Create Bid Management BSR to be used as Parent for the record that triggered the flow.</description>
        <name>Create_Parent_Bid_Management_BSR</name>
        <label>Create Parent Bid Management BSR</label>
        <locationX>622</locationX>
        <locationY>971</locationY>
        <connector>
            <targetReference>Add_Parent_to_Record</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Bid_Phase__c</field>
            <value>
                <elementReference>$Record.Bid_Phase__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Bid__c</field>
            <value>
                <elementReference>$Record.Bid__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Due_Date__c</field>
            <value>
                <elementReference>$Record.Due_Date__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Opportunity__c</field>
            <value>
                <elementReference>$Record.Opportunity__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Phase_Start_Date__c</field>
            <value>
                <elementReference>$Record.Phase_Start_Date__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_Bid_Management_Record_Type.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Resource Allocation</stringValue>
            </value>
        </inputAssignments>
        <object>Bid_Support__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>Get_Bid_Management_Record_Type</name>
        <label>Get Bid Management Record Type</label>
        <locationX>622</locationX>
        <locationY>863</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Create_Parent_Bid_Management_BSR</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Bid_Support__c</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Bid_Management</stringValue>
            </value>
        </filters>
        <filters>
            <field>IsActive</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <description>Update Triggering record to link it to the newly created Parent Bid Management record.</description>
        <name>Add_Parent_to_Record</name>
        <label>Add Parent to Record</label>
        <locationX>622</locationX>
        <locationY>1079</locationY>
        <connector>
            <targetReference>Created_Notification_Decision</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Parent_Bid_Support__c</field>
            <value>
                <elementReference>Create_Parent_Bid_Management_BSR</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>Close all child BSR Records - including updating the Approval fields</description>
        <name>Close_Child_BSR_Records</name>
        <label>Close Child BSR Records</label>
        <locationX>1678</locationX>
        <locationY>1079</locationY>
        <connector>
            <targetReference>Status_Updated_Notification_Decision</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Parent_Bid_Support__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Closed_Date__c</field>
            <value>
                <elementReference>$Record.Closed_Date__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Closed_Reason__c</field>
            <value>
                <elementReference>$Record.Closed_Reason__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sales_Lead_Approval_Status__c</field>
            <value>
                <elementReference>$Record.Sales_Lead_Approval_Status__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sales_Lead_Approval__c</field>
            <value>
                <elementReference>$Record.Sales_Lead_Approval__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </inputAssignments>
        <object>Bid_Support__c</object>
    </recordUpdates>
    <recordUpdates>
        <description>Update Child Records to Review Status.</description>
        <name>Review_Child_Records</name>
        <label>Review Child Records</label>
        <locationX>2382</locationX>
        <locationY>1187</locationY>
        <connector>
            <targetReference>Status_Updated_Notification_Decision</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Parent_Bid_Support__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Sales_Lead_Approval_Status__c</field>
            <value>
                <elementReference>$Record.Sales_Lead_Approval_Status__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Review</stringValue>
            </value>
        </inputAssignments>
        <object>Bid_Support__c</object>
    </recordUpdates>
    <recordUpdates>
        <description>Set Child Records to Active Status + update Sales Lead Approval Status.</description>
        <name>Update_Child_Records_Active</name>
        <label>Update Child Records - Active</label>
        <locationX>3086</locationX>
        <locationY>1079</locationY>
        <connector>
            <targetReference>Status_Updated_Notification_Decision</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Log_Error</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Parent_Bid_Support__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Sales_Lead_Approval_Status__c</field>
            <value>
                <elementReference>$Record.Sales_Lead_Approval_Status__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <elementReference>$Record.Status__c</elementReference>
            </value>
        </inputAssignments>
        <object>Bid_Support__c</object>
    </recordUpdates>
    <start>
        <locationX>2910</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Validate_Config_Switch</targetReference>
        </connector>
        <object>Bid_Support__c</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <subflows>
        <name>Bid_Support_Update_Key_Info_from_Opportunity_Subflow_Update</name>
        <label>Bid Support: Update Key Info from Opportunity Subflow</label>
        <locationX>1931</locationX>
        <locationY>539</locationY>
        <connector>
            <targetReference>Create_or_Update</targetReference>
        </connector>
        <flowName>Bid_Support_Update_Key_Info_from_Opportunity_Subflow</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Log_Error</name>
        <label>Log Error</label>
        <locationX>1942</locationX>
        <locationY>1187</locationY>
        <flowName>Utility_Error_Log_Creation</flowName>
        <inputAssignments>
            <name>Level</name>
            <value>
                <stringValue>Error</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Messages</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>OriginName</name>
            <value>
                <stringValue>Bid Support: After Create and Update</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>RecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Type</name>
            <value>
                <stringValue>Flow</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <variables>
        <name>v_isNew</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
